<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destinations - DeshaAnubhava</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/tailwind.css">
    <link rel="stylesheet" href="css/weather-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <style>
        /* Custom styling for destination images */
        .banner-img {
            object-position: center 20%;
            filter: brightness(0.9) saturate(1.1);
        }
        
        .destination-img {
            object-position: center;
            height: 100%;
            width: 100%;
            transition: transform 0.3s ease;
        }
        
        .destination-card:hover .destination-img {
            transform: scale(1.05);
        }
        
        .custom-transition {
            transition: all 0.3s ease;
        }
        
        .destination-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .experience-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            background-color: #f8fafc;
            border-top: 1px solid #e2e8f0;
        }
        
        .experience-details.active {
            max-height: 400px;
        }
        
        @media (max-width: 640px) {
            .banner-img {
                object-position: center 30%;
            }
        }
    </style>
</head>
<body class="font-sans text-black bg-white flex flex-col min-h-screen">
    <!-- Header (same as index.html) -->
    <header class="bg-white shadow-md fixed w-full z-10">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-display font-bold text-primary">
                        Explore<span class="text-secondary">India</span>
                    </a>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="destinations.html" class="font-medium text-primary">Destinations</a>
                    <a href="experiences.html" class="font-medium hover:text-primary transition-colors">Experiences</a>
                    <a href="events.html" class="font-medium hover:text-primary transition-colors">Events</a>
                    <a href="planner.html" class="font-medium hover:text-primary transition-colors">Trip Planner</a>
                    <a href="stories.html" class="font-medium hover:text-primary transition-colors">Traveler Stories</a>
                </nav>
                <div class="md:hidden">
                    <button id="menu-toggle" class="text-dark focus:outline-none">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden hidden bg-white w-full py-4 px-6 shadow-lg">
            <nav class="flex flex-col space-y-4">
                <a href="destinations.html" class="font-medium text-primary">Destinations</a>
                <a href="experiences.html" class="font-medium hover:text-primary transition-colors">Experiences</a>
                <a href="events.html" class="font-medium hover:text-primary transition-colors">Events</a>
                <a href="planner.html" class="font-medium hover:text-primary transition-colors">Trip Planner</a>
                <a href="stories.html" class="font-medium hover:text-primary transition-colors">Traveler Stories</a>
            </nav>
        </div>
    </header>

    <!-- Page Banner -->
    <section class="relative h-screen md:h-[600px]">
        <img src="images/tajmahal.jpg" alt="Taj Mahal at sunrise with perfect reflection in water" class="banner-img absolute inset-0 w-full h-full object-cover object-center">
        <div class="absolute inset-0 bg-gradient-to-t from-gray-900/80 via-gray-900/40 to-gray-900/30"></div>
        <div class="absolute inset-0 flex items-center justify-center px-4 text-center">
            <div class="max-w-4xl">
                <h1 class="text-5xl md:text-6xl font-display font-bold text-white mb-6 drop-shadow-lg">Discover India's Diverse Destinations</h1>
                <p class="text-xl md:text-2xl text-white mb-10 drop-shadow-md max-w-3xl mx-auto">From majestic temples to breathtaking landscapes, experience the rich tapestry of incredible India</p>
                <a href="#destinations" class="bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold py-4 px-10 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 inline-block">
                    Explore Now
                </a>
            </div>
        </div>
    </section>

    <!-- Featured Destinations Showcase (Inspired by Incredible India) -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-display font-bold mb-12 text-center">Incredible Destinations</h2>
            
            <!-- Featured Destinations Carousel with Scroll Controls -->
            <div class="relative max-w-6xl mx-auto">
                <!-- Left Scroll Button -->
                <button id="scroll-left" class="absolute left-0 top-1/2 -translate-y-1/2 -ml-4 z-10 bg-white rounded-full shadow-lg p-2 text-primary hover:bg-primary hover:text-white transition-all duration-300">
                    <i class="fas fa-chevron-left text-xl"></i>
                </button>
                
                <!-- Right Scroll Button -->
                <button id="scroll-right" class="absolute right-0 top-1/2 -translate-y-1/2 -mr-4 z-10 bg-white rounded-full shadow-lg p-2 text-primary hover:bg-primary hover:text-white transition-all duration-300">
                    <i class="fas fa-chevron-right text-xl"></i>
                </button>
                
                <!-- Scrollable Container -->
                <div class="overflow-x-auto hide-scrollbar featured-carousel">
                    <div class="flex space-x-6 py-2 px-1 min-w-max">
                        <!-- Featured Destination 1 -->
                        <div class="featured-destination group relative overflow-hidden rounded-xl shadow-lg w-80 flex-shrink-0">
                            <img src="images/tajmahal.jpg" alt="Taj Mahal" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-105">
                            <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                                <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                                <span>Loading...</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-6 text-white">
                                <h3 class="text-2xl font-bold mb-1">Taj Mahal</h3>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt mr-1.5"></i>
                                    <span>Agra</span>
                                </div>
                                <a href="javascript:void(0)" class="mt-3 inline-block text-sm font-medium hover:underline discover-more-btn" data-destination="tajmahal">Discover more <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                        
                        <!-- Featured Destination 2 -->
                        <div class="featured-destination group relative overflow-hidden rounded-xl shadow-lg w-80 flex-shrink-0">
                            <img src="images/varanasi.jpg" alt="Varanasi Ghats" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-105">
                            <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                                <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                                <span>Loading...</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-6 text-white">
                                <h3 class="text-2xl font-bold mb-1">Varanasi</h3>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt mr-1.5"></i>
                                    <span>Uttar Pradesh</span>
                                </div>
                                <a href="javascript:void(0)" class="mt-3 inline-block text-sm font-medium hover:underline discover-more-btn" data-destination="varanasi">Discover more <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                        
                        <!-- Featured Destination 3 -->
                        <div class="featured-destination group relative overflow-hidden rounded-xl shadow-lg w-80 flex-shrink-0">
                            <img src="images/Jaipur.jpg" alt="Jaipur Palace" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-105">
                            <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                                <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                                <span>Loading...</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-6 text-white">
                                <h3 class="text-2xl font-bold mb-1">Jaipur</h3>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt mr-1.5"></i>
                                    <span>Rajasthan</span>
                                </div>
                                <a href="javascript:void(0)" class="mt-3 inline-block text-sm font-medium hover:underline discover-more-btn" data-destination="jaipur">Discover more <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                        
                        <!-- Featured Destination 4: Goa -->
                        <div class="featured-destination group relative overflow-hidden rounded-xl shadow-lg w-80 flex-shrink-0">
                            <img src="images/goa.jpg" alt="Goa Beaches" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-105">
                            <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                                <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                                <span>Loading...</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-6 text-white">
                                <h3 class="text-2xl font-bold mb-1">Goa</h3>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt mr-1.5"></i>
                                    <span>West India</span>
                                </div>
                                <a href="javascript:void(0)" id="goa-btn" class="mt-3 inline-block text-sm font-medium hover:underline discover-more-btn" data-destination="goa">Discover more <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                        
                        <!-- Featured Destination 5: Kerala -->
                        <div class="featured-destination group relative overflow-hidden rounded-xl shadow-lg w-80 flex-shrink-0">
                            <img src="images/Kerala Backwaters.jpg" alt="Kerala Backwaters" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-105">
                            <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                                <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                                <span>Loading...</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-6 text-white">
                                <h3 class="text-2xl font-bold mb-1">Kerala</h3>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt mr-1.5"></i>
                                    <span>South India</span>
                                </div>
                                <a href="javascript:void(0)" id="kerala-btn" class="mt-3 inline-block text-sm font-medium hover:underline discover-more-btn" data-destination="kerala">Discover more <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                        
                        <!-- Featured Destination 6: Darjeeling -->
                        <div class="featured-destination group relative overflow-hidden rounded-xl shadow-lg w-80 flex-shrink-0">
                            <img src="images/darjeeling.jpg" alt="Darjeeling" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-105">
                            <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                                <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                                <span>Loading...</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col justify-end p-6 text-white">
                                <h3 class="text-2xl font-bold mb-1">Darjeeling</h3>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt mr-1.5"></i>
                                    <span>West Bengal</span>
                                </div>
                                <a href="javascript:void(0)" id="darjeeling-btn" class="mt-3 inline-block text-sm font-medium hover:underline discover-more-btn" data-destination="darjeeling">Discover more <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Add CSS for scrollbar hiding -->
    <style>
        .hide-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera*/
        }
    </style>
    
    <!-- Carousel Scroll Controls Script -->
    <script>
        // Region data
        const regionData = {
            'north-india': {
                name: 'North India',
                tag: 'Mountains & Heritage',
                image: 'images/north-india-banner.jpg',
                description: 'North India offers a stunning blend of majestic mountains, ancient cities, and rich cultural heritage. From the snow-capped peaks of the Himalayas to the sacred banks of the Ganges, this region showcases India\'s diverse landscapes and spiritual depth.',
                destinations: [
                    { name: 'Kashmir', image: 'images/kashmir.jpg', description: 'Known as "Paradise on Earth" with breathtaking valleys and lakes' },
                    { name: 'Ladakh', image: 'images/ladakh.jpg', description: 'High-altitude desert with Buddhist monasteries and stunning landscapes' },
                    { name: 'Himachal Pradesh', image: 'images/himachal.jpg', description: 'Popular hill stations, adventure sports, and scenic beauty' },
                    { name: 'Rishikesh', image: 'images/rishikesh.jpg', description: 'Yoga capital of the world and gateway to the Himalayas' },
                    { name: 'Delhi', image: 'images/delhi.jpg', description: 'India\'s capital with a perfect blend of ancient and modern architecture' },
                    { name: 'Agra', image: 'images/agra.jpg', description: 'Home to the iconic Taj Mahal and Agra Fort' }
                ],
                bestTime: 'October to March is ideal for most of North India. For mountain areas, May to September offers pleasant weather. Winter (December-February) brings snow to the Himalayan regions.'
            },
            'south-india': {
                name: 'South India',
                tag: 'Temples & Beaches',
                image: 'images/south-india-banner.jpg',
                description: 'South India is known for its elaborate temples, tropical beaches, backwaters, and vibrant culture. The region boasts ancient Dravidian architecture, spice plantations, and some of India\'s most beautiful coastal areas.',
                destinations: [
                    { name: 'Kerala', image: 'images/kerala.jpg', description: 'Famous for its backwaters, houseboats, and pristine beaches' },
                    { name: 'Hampi', image: 'images/hampi.jpg', description: 'UNESCO World Heritage Site with stunning ancient ruins' },
                    { name: 'Mysore', image: 'images/mysore.jpg', description: 'Known for its magnificent palace and rich cultural heritage' },
                    { name: 'Pondicherry', image: 'images/pondicherry.jpg', description: 'Former French colony with unique Indo-French architecture' },
                    { name: 'Madurai', image: 'images/madurai.jpg', description: 'Home to the magnificent Meenakshi Temple' },
                    { name: 'Andaman Islands', image: 'images/andaman.jpg', description: 'Pristine beaches and rich marine life for diving enthusiasts' }
                ],
                bestTime: 'October to March is best for most of South India. Monsoon season (June-September) can be beautiful but wet. The coastal areas are most comfortable during winter months.'
            },
            'east-india': {
                name: 'East India',
                tag: 'Tea & Traditions',
                image: 'images/east-india-banner.jpg',
                description: 'East India enchants with its lush tea gardens, mighty rivers, and diverse cultural traditions. This region is known for its distinctive cuisine, tribal heritage, and some of India\'s most beautiful natural landscapes.',
                destinations: [
                    { name: 'Darjeeling', image: 'images/darjeeling.jpg', description: 'Famous hill station with tea plantations and views of Kanchenjunga' },
                    { name: 'Sundarbans', image: 'images/sundarbans.jpg', description: 'World\'s largest mangrove forest and home to Bengal tigers' },
                    { name: 'Kolkata', image: 'images/kolkata.jpg', description: 'Cultural capital of India with colonial architecture' },
                    { name: 'Shillong', image: 'images/shillong.jpg', description: 'Scotland of the East with rolling hills and waterfalls' },
                    { name: 'Kaziranga', image: 'images/kaziranga.jpg', description: 'UNESCO World Heritage Site and home to one-horned rhinoceros' },
                    { name: 'Puri', image: 'images/puri.jpg', description: 'Famous for Jagannath Temple and beautiful beaches' }
                ],
                bestTime: 'October to March is ideal when the weather is cool and dry. Monsoon (June-September) makes the region lush but can limit outdoor activities. Winter (November-February) is perfect for wildlife viewing.'
            },
            'west-india': {
                name: 'West India',
                tag: 'Deserts & Beaches',
                image: 'images/west-india-banner.jpg',
                description: 'West India offers a stunning contrast of golden deserts and pristine beaches. The region is rich in royal heritage, colorful traditions, and vibrant festivals that showcase India\'s most photogenic landscapes.',
                destinations: [
                    { name: 'Goa', image: 'images/goa.jpg', description: 'Famous for beaches, nightlife, and Portuguese-influenced architecture' },
                    { name: 'Jaipur', image: 'images/jaipur.jpg', description: 'Pink City with magnificent palaces and rich Rajasthani culture' },
                    { name: 'Udaipur', image: 'images/udaipur.jpg', description: 'City of Lakes with romantic lake palaces and royal heritage' },
                    { name: 'Rann of Kutch', image: 'images/rann.jpg', description: 'Stunning white salt desert that transforms during Rann Utsav' },
                    { name: 'Mumbai', image: 'images/mumbai.jpg', description: 'India\'s financial capital and home to Bollywood' },
                    { name: 'Ajanta & Ellora', image: 'images/ajanta.jpg', description: 'UNESCO sites with ancient rock-cut caves and sculptures' }
                ],
                bestTime: 'October to March is perfect for West India. The desert regions are best visited in winter (November-February). Monsoon (July-September) makes Goa lush but limits beach activities.'
            },
            'central-india': {
                name: 'Central India',
                tag: 'Wildlife & Heritage',
                image: 'images/central-india-banner.jpg',
                description: 'Central India is a treasure trove of wildlife sanctuaries, ancient temples, and tribal culture. The region is home to some of India\'s most significant national parks and historic sites that date back to early civilizations.',
                destinations: [
                    { name: 'Khajuraho', image: 'images/khajuraho.jpg', description: 'UNESCO site with intricately carved temples' },
                    { name: 'Bandhavgarh', image: 'images/bandhavgarh.jpg', description: 'National park with one of the highest tiger densities' },
                    { name: 'Orchha', image: 'images/orchha.jpg', description: 'Medieval town with stunning palaces and temples' },
                    { name: 'Kanha', image: 'images/kanha.jpg', description: 'National park that inspired Rudyard Kipling\'s "The Jungle Book"' },
                    { name: 'Sanchi', image: 'images/sanchi.jpg', description: 'UNESCO site with ancient Buddhist monuments' },
                    { name: 'Bhopal', image: 'images/bhopal.jpg', description: 'City of Lakes with a blend of Islamic and Hindu architecture' }
                ],
                bestTime: 'October to March is ideal for wildlife viewing and outdoor exploration. Winter months (November-February) offer the best chance to spot wildlife in the national parks.'
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Get the carousel elements
            const carousel = document.querySelector('.featured-carousel');
            const scrollLeftBtn = document.getElementById('scroll-left');
            const scrollRightBtn = document.getElementById('scroll-right');
            
            // Define scroll distance (approximately one card width + gap)
            const scrollDistance = 340;
            
            // Add event listeners to the scroll buttons
            scrollLeftBtn.addEventListener('click', function() {
                carousel.scrollBy({
                    left: -scrollDistance,
                    behavior: 'smooth'
                });
            });
            
            scrollRightBtn.addEventListener('click', function() {
                carousel.scrollBy({
                    left: scrollDistance,
                    behavior: 'smooth'
                });
            });
            
            // Setup region buttons functionality
            const regionButtons = document.querySelectorAll('.region-btn');
            const regionModal = document.getElementById('region-modal');
            const closeRegionModal = document.getElementById('close-region-modal');
            const regionTitle = document.getElementById('region-modal-title');
            const regionImage = document.getElementById('region-image');
            const regionSubtitle = document.getElementById('region-subtitle');
            const regionTag = document.getElementById('region-tag');
            const regionDescription = document.getElementById('region-description');
            const regionDestinations = document.getElementById('region-destinations');
            const regionBestTime = document.getElementById('region-best-time');
            
            // Add click event to all region buttons
            regionButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const regionId = button.getAttribute('data-region');
                    const region = regionData[regionId];
                    
                    if (region) {
                        // Set modal content
                        regionTitle.textContent = region.name;
                        regionImage.src = region.image;
                        regionImage.alt = region.name + ' landscapes';
                        regionTag.textContent = region.tag;
                        regionDescription.textContent = region.description;
                        regionBestTime.textContent = region.bestTime;
                        
                        // Generate destination cards
                        let destinationsHTML = '';
                        region.destinations.forEach(dest => {
                            destinationsHTML += `
                                <div class="bg-white rounded-lg overflow-hidden shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-300">
                                    <div class="h-40 overflow-hidden">
                                        <img src="${dest.image}" alt="${dest.name}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-500">
                                    </div>
                                    <div class="p-4">
                                        <h5 class="font-bold text-gray-900 mb-1">${dest.name}</h5>
                                        <p class="text-gray-600 text-sm">${dest.description}</p>
                                        <a href="#${dest.name.toLowerCase().replace(/\s+/g, '-')}" class="mt-3 inline-block text-primary font-medium text-sm hover:underline">Explore more</a>
                                    </div>
                                </div>
                            `;
                        });
                        regionDestinations.innerHTML = destinationsHTML;
                        
                        // Show modal
                        regionModal.classList.remove('hidden');
                        regionModal.classList.add('flex');
                    }
                });
            });
            
            // Close modal functionality
            if (closeRegionModal) {
                closeRegionModal.addEventListener('click', () => {
                    regionModal.classList.add('hidden');
                    regionModal.classList.remove('flex');
                });
                
                // Close modal if clicking outside the content
                regionModal.addEventListener('click', (e) => {
                    if (e.target === regionModal) {
                        regionModal.classList.add('hidden');
                        regionModal.classList.remove('flex');
                    }
                });
            }

            // Function to check if buttons should be visible based on scroll position
            function updateScrollButtonsVisibility() {
                // Show/hide left button based on scroll position
                if (carousel.scrollLeft <= 10) {
                    scrollLeftBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    scrollLeftBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
                
                // Show/hide right button based on scroll position
                if (carousel.scrollLeft >= carousel.scrollWidth - carousel.clientWidth - 10) {
                    scrollRightBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    scrollRightBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            }
            
            // Listen for scroll events on the carousel
            carousel.addEventListener('scroll', updateScrollButtonsVisibility);
            
            // Initial check for button visibility
            updateScrollButtonsVisibility();
        });
    </script>

    <!-- Comparison Section (Initially Hidden) -->
    <section id="comparison-section" class="sticky top-[68px] bg-white/95 backdrop-blur-sm py-3 shadow-md z-10 mb-6 hidden">
        <div class="container mx-auto px-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="font-medium text-gray-700">Comparing:</span>
                <div id="comparison-items" class="flex gap-2">
                    <!-- Selected items will be added here -->
                    <!-- Example: <span class="bg-gray-200 text-sm px-2 py-1 rounded">Taj Mahal <button class="ml-1 text-red-500">x</button></span> -->
                </div>
            </div>
            <button id="compare-now-button" class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-5 py-2 rounded-lg text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                Compare Now (<span id="compare-count">0</span>/3)
            </button>
        </div>
    </section>

    <!-- Featured Destinations Map -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-display font-bold mb-2 text-center">Explore the Map</h2>
            <p class="text-xl text-center mb-12 text-gray-600">Click on a region to discover its unique destinations</p>
            
            <!-- Interactive Map (placeholder) -->
            <div class="max-w-5xl mx-auto rounded-xl overflow-hidden shadow-lg">
                <div id="map" class="h-96"></div>
            </div>
        </div>
    </section>

    <!-- Popular Destinations -->
    <section id="destinations" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-display font-bold mb-2 text-center">Popular Destinations:</h2>
            <p class="text-xl text-center mb-6 text-gray-600">Discover India's most beloved places</p>
            
            <!-- Region-based Navigation (inspired by Incredible India) -->
            <div class="region-filter max-w-5xl mx-auto mb-12">
                <h3 class="text-lg font-bold text-gray-700 mb-3 text-center">Explore by Region</h3>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 text-center">
                    <button type="button" data-region="north-india" class="region-btn bg-white hover:bg-primary hover:text-white text-gray-700 font-medium py-3 px-4 rounded-lg shadow-sm transition-all duration-300 flex flex-col items-center justify-center border border-gray-100">
                        <span class="text-primary group-hover:text-white"><i class="fas fa-mountain text-lg mb-1"></i></span>
                        <span>North India</span>
                        <span class="text-xs text-gray-500 mt-1"><i class="fas fa-info-circle mr-1"></i>Click for info</span>
                    </button>
                    <button type="button" data-region="south-india" class="region-btn bg-white hover:bg-primary hover:text-white text-gray-700 font-medium py-3 px-4 rounded-lg shadow-sm transition-all duration-300 flex flex-col items-center justify-center border border-gray-100">
                        <span class="text-primary group-hover:text-white"><i class="fas fa-gopuram text-lg mb-1"></i></span>
                        <span>South India</span>
                        <span class="text-xs text-gray-500 mt-1"><i class="fas fa-info-circle mr-1"></i>Click for info</span>
                    </button>
                    <button type="button" data-region="east-india" class="region-btn bg-white hover:bg-primary hover:text-white text-gray-700 font-medium py-3 px-4 rounded-lg shadow-sm transition-all duration-300 flex flex-col items-center justify-center border border-gray-100">
                        <span class="text-primary group-hover:text-white"><i class="fas fa-leaf text-lg mb-1"></i></span>
                        <span>East India</span>
                        <span class="text-xs text-gray-500 mt-1"><i class="fas fa-info-circle mr-1"></i>Click for info</span>
                    </button>
                    <button type="button" data-region="west-india" class="region-btn bg-white hover:bg-primary hover:text-white text-gray-700 font-medium py-3 px-4 rounded-lg shadow-sm transition-all duration-300 flex flex-col items-center justify-center border border-gray-100">
                        <span class="text-primary group-hover:text-white"><i class="fas fa-sun text-lg mb-1"></i></span>
                        <span>West India</span>
                        <span class="text-xs text-gray-500 mt-1"><i class="fas fa-info-circle mr-1"></i>Click for info</span>
                    </button>
                    <button type="button" data-region="central-india" class="region-btn bg-white hover:bg-primary hover:text-white text-gray-700 font-medium py-3 px-4 rounded-lg shadow-sm transition-all duration-300 flex flex-col items-center justify-center border border-gray-100">
                        <span class="text-primary group-hover:text-white"><i class="fas fa-landmark text-lg mb-1"></i></span>
                        <span>Central India</span>
                        <span class="text-xs text-gray-500 mt-1"><i class="fas fa-info-circle mr-1"></i>Click for info</span>
                    </button>
                </div>
            </div>
            

            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                <!-- Destination 1: Enhanced with Incredible India style -->
                <div id="tajmahal" class="destination-card group flex flex-col bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-primary/20 transform hover:-translate-y-1" data-collection="palaces" data-state="uttar-pradesh" data-region="north-india">
                    <div class="relative overflow-hidden h-72">
                        <img src="images/tajmahal.jpg" id="img-tajmahal" alt="Taj Mahal - iconic marble mausoleum at sunrise with reflections" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-in-out bg-gray-200">
                        <div class="absolute top-0 right-0 m-3">
                            <span class="bg-yellow-400 text-gray-900 text-xs font-bold px-2.5 py-1 rounded-full shadow-md">TOP RATED</span>
                        </div>
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 text-white">
                            <h3 class="text-2xl font-bold drop-shadow-sm">Taj Mahal</h3>
                            <div class="flex items-center text-sm">
                                <i class="fas fa-map-marker-alt mr-1.5"></i>
                                <span>Agra, Uttar Pradesh</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-5 flex flex-col flex-grow">
                        <!-- Interesting Facts Section (Inspired by Incredible India) -->
                        
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">This iconic ivory-white marble mausoleum is one of the most recognized structures in the world and India's most famous landmark, built by Emperor Shah Jahan in memory of his beloved wife.</p>
                        
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-primary/10 text-primary text-xs font-semibold px-3 py-1 rounded-full">UNESCO World Heritage</span>
                            <span class="bg-gray-100 text-gray-700 text-xs font-semibold px-3 py-1 rounded-full">Historical Monument</span>
                            <span class="bg-gray-100 text-gray-700 text-xs font-semibold px-3 py-1 rounded-full">Architecture</span>
                        </div>
                        
                        <div class="flex justify-between items-center mt-auto pt-3 border-t border-gray-100">
                            <div class="flex items-center">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="font-bold text-gray-700">4.9</span>
                                <span class="text-xs text-gray-500 ml-1">(2,500+ reviews)</span>
                            </div>
                            
                            <div class="flex items-center space-x-3">
                                <button class="compare-btn text-gray-400 hover:text-blue-600 transition-colors" 
                                        title="Add to Compare" 
                                        data-destination-id="tajmahal">
                                    <i class="far fa-copy text-lg"></i>
                                </button>
                                <button class="experience-trigger bg-primary/10 hover:bg-primary/20 text-primary rounded-full py-1 px-3 flex items-center text-sm transition-all duration-300 group" data-destination="tajmahal">
                                    <i class="fas fa-map-marked-alt mr-1.5"></i>
                                    <span>Experiences</span>
                                    <div class="experience-indicator ml-2 w-2 h-2 rounded-full bg-primary/50 group-hover:animate-ping"></div>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- No vertical experience section needed as we'll use a slide-out panel -->
                    <!-- Experience panel will be created through JavaScript and injected into the DOM -->

                </div>
                
                <!-- Destination 2: Applying similar class changes -->
                <div id="varanasi" class="destination-card group flex flex-col bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-gray-100 hover:border-gray-200" data-collection="temples">
                    <div class="overflow-hidden h-64">
                        <img src="images/varanasi.jpg" id="img-varanasi" alt="Varanasi ghats at dusk with religious ceremonies and floating candles" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200">
                            </div>
                     <div class="p-5 flex flex-col flex-grow"> 
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-gray-800 group-hover:text-primary transition-colors">Varanasi</h3>
                            <div class="flex items-center flex-shrink-0 ml-2 pt-1"> 
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star text-sm"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.7</span>
                        </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed flex-grow">One of the oldest continuously inhabited cities in the world, Varanasi is a spiritual hub where pilgrims come to bathe in the sacred Ganges River and perform funeral rites.</p> 
                        <div class="flex justify-between items-center mt-auto pt-3 border-t border-gray-100"> 
                            <span class="bg-primary/10 text-primary text-xs font-semibold px-3 py-1 rounded-full">Spiritual</span>
                            <button class="experience-trigger bg-primary/10 hover:bg-primary/20 text-primary rounded-full py-1 px-3 flex items-center text-sm transition-all duration-300 group" data-destination="varanasi">
                                <i class="fas fa-map-marked-alt mr-1.5"></i>
                                <span>Experiences</span>
                                <div class="experience-indicator ml-2 w-2 h-2 rounded-full bg-primary/50 group-hover:animate-ping"></div>
                            </button>
                        </div>
                    </div>
                     <div class="experience-details bg-gray-50/80 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                         <div class="p-5">
                            <h4 class="font-bold text-sm mb-3 text-primary uppercase tracking-wide">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm text-gray-700">
                                <li class="flex items-start">
                                    <i class="fas fa-water text-primary/70 w-4 text-center mt-1 mr-2.5 flex-shrink-0"></i>
                                    <span>Dawn Boat Ride on the Ganges</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-fire text-primary/70 w-4 text-center mt-1 mr-2.5 flex-shrink-0"></i>
                                    <span>Evening Ganga Aarti Ceremony</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-street-view text-primary/70 w-4 text-center mt-1 mr-2.5 flex-shrink-0"></i>
                                    <span>Old City Walking Tour</span>
                                </li>
                            </ul>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <a href="experiences.html#varanasi" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-xs hover:bg-opacity-90 transition shadow-sm font-medium">View Details</a>
                                <button class="add-to-planner-btn inline-flex items-center bg-secondary text-white px-4 py-1.5 rounded-md text-xs hover:bg-opacity-90 transition shadow-sm font-medium" data-destination="Varanasi">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                             </div>
                        </div>
                    </div>
                </div>
                
                <!-- Destination 3 -->
                <div id="kerala" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="beaches">
                    <div class="overflow-hidden h-64">
                        <img src="images/Kerala Backwaters3.jpg" id="img-kerala" alt="Traditional houseboat on Kerala backwaters with palm trees at sunset" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Kerala Backwaters</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.8</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">A network of interconnected canals, rivers, lakes, and inlets formed by more than 900 km of waterways. Experience traditional houseboats and lush green landscapes.</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">Nature</span>
                            <button class="experience-trigger bg-primary/10 hover:bg-primary/20 text-primary rounded-full py-1 px-3 flex items-center text-sm transition-all duration-300 group" data-destination="kerala">
                                <i class="fas fa-map-marked-alt mr-1.5"></i>
                                <span>Experiences</span>
                                <div class="experience-indicator ml-2 w-2 h-2 rounded-full bg-primary/50 group-hover:animate-ping"></div>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-ship text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Overnight Houseboat Stay</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-leaf text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Spice Plantation Tour</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-spa text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Ayurvedic Spa Retreat</span>
                                </li>
                            </ul>
                             <div class="mt-4 flex gap-3">
                                <a href="experiences.html#kerala" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Kerala Backwaters">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Destination 4 -->
                <div id="jaipur" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="palaces">
                    <div class="overflow-hidden h-64">
                        <img src="images/Jaipur.jpg" id="img-jaipur" alt="Amber Fort in Jaipur with ornate architecture and scenic landscape" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Jaipur</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.6</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">Known as the "Pink City" for its distinctive terracotta pink buildings, Jaipur is home to magnificent palaces, forts, and vibrant bazaars.</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">Heritage</span>
                            <button class="experience-trigger bg-primary/10 hover:bg-primary/20 text-primary rounded-full py-1 px-3 flex items-center text-sm transition-all duration-300 group" data-destination="jaipur">
                                <i class="fas fa-map-marked-alt mr-1.5"></i>
                                <span>Experiences</span>
                                <div class="experience-indicator ml-2 w-2 h-2 rounded-full bg-primary/50 group-hover:animate-ping"></div>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-fort-awesome text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Amber Fort Elephant Ride</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-shopping-bag text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Bazaar Walking Tour</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-utensils text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Royal Rajasthani Cooking Class</span>
                                </li>
                            </ul>
                             <div class="mt-4 flex gap-3">
                                <a href="experiences.html#jaipur" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Jaipur">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Destination 5 -->
                <div id="goa" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="beaches">
                    <div class="overflow-hidden h-64">
                        <img src="images/Goa.jpg" id="img-goa" alt="Aerial view of Goa beach with palm trees and turquoise waters" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Goa</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.5</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">India's smallest state is known for its beaches, nightlife, and unique blend of Indian and Portuguese cultures, visible in its architecture, food, and customs.</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">Beaches</span>
                            <button class="experience-trigger bg-primary/10 hover:bg-primary/20 text-primary rounded-full py-1 px-3 flex items-center text-sm transition-all duration-300 group" data-destination="goa">
                                <i class="fas fa-map-marked-alt mr-1.5"></i>
                                <span>Experiences</span>
                                <div class="experience-indicator ml-2 w-2 h-2 rounded-full bg-primary/50 group-hover:animate-ping"></div>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-umbrella-beach text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Beach Hopping Tour</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-cocktail text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Sunset Cruise with Dinner</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-church text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Old Goa Portuguese Heritage Tour</span>
                                </li>
                            </ul>
                            <div class="mt-4 flex gap-3">
                                <a href="experiences.html#goa" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Goa">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Destination 6 -->
                <div id="darjeeling" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="mountains">
                    <div class="overflow-hidden h-64">
                        <img src="images/Darjeeling.jpg" id="img-darjeeling" alt="Tea plantations in Darjeeling with Himalayan mountain views" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Darjeeling</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.6</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">This hill station in West Bengal is famous for its tea plantations, stunning views of the Himalayas, and the historic "Toy Train"  a UNESCO World Heritage railway.</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">Mountains</span>
                            <button class="experience-trigger bg-primary/10 hover:bg-primary/20 text-primary rounded-full py-1 px-3 flex items-center text-sm transition-all duration-300 group" data-destination="darjeeling">
                                <i class="fas fa-map-marked-alt mr-1.5"></i>
                                <span>Experiences</span>
                                <div class="experience-indicator ml-2 w-2 h-2 rounded-full bg-primary/50 group-hover:animate-ping"></div>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-train text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Himalayan "Toy Train" Ride</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-coffee text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Tea Plantation Tour & Tasting</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-hiking text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Tiger Hill Sunrise Trek</span>
                                </li>
                            </ul>
                            <div class="mt-4 flex gap-3">
                                <a href="experiences.html#darjeeling" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Darjeeling">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                        </div>
                    </div>
                </div>
            </div>
            
                <!-- START NEW KARNATAKA DESTINATIONS -->

                <!-- Destination 7: Hampi -->
                <div id="hampi" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="temples">
                    <div class="overflow-hidden h-64">
                        <img src="images/hampi.jpg" id="img-hampi" alt="Ancient stone temples and ruins of Hampi under a clear sky" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Hampi</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.8</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">Explore the vast ruins of the Vijayanagara Empire, a UNESCO site with stunning temples, palaces, and unique boulder-strewn landscapes.</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">UNESCO Site</span>
                            <button class="toggle-details text-primary font-medium hover:text-primary/80 flex items-center text-sm transition-colors">
                                <span class="details-button-text">View Experiences</span> 
                                <i class="details-chevron fas fa-chevron-down ml-1.5 text-xs transition-transform duration-300"></i>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-bicycle text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Cycle Tour of Hampi Ruins</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-archway text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Virupaksha Temple Visit</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-sun text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Sunset View from Hemakuta Hill</span>
                                </li>
                            </ul>
                             <div class="mt-4 flex gap-3">
                                <a href="experiences.html#hampi" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Hampi">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Destination 8: Mysore Palace -->
                <div id="mysore" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="palaces">
                    <div class="overflow-hidden h-64">
                        <img src="images/mysore_palace.jpg" id="img-mysore" alt="Grand Mysore Palace illuminated at night" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200"> <!-- Placeholder image -->
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Mysore Palace</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.7</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">A historical palace and the official residence of the Wadiyar dynasty. Famous for its Indo-Saracenic architecture and stunning Dasara festival illumination.</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">Royalty</span>
                            <button class="toggle-details text-primary font-medium hover:text-primary/80 flex items-center text-sm transition-colors">
                                <span class="details-button-text">View Experiences</span> 
                                <i class="details-chevron fas fa-chevron-down ml-1.5 text-xs transition-transform duration-300"></i>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-lightbulb text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Palace Illumination Viewing (Sundays & Holidays)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-palette text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Explore the Palace Museum & Art Gallery</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-shopping-cart text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Visit Devaraja Market Nearby</span>
                                </li>
                            </ul>
                             <div class="mt-4 flex gap-3">
                                <a href="experiences.html#mysore" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Mysore Palace">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Destination 9: Belur & Halebidu -->
                <div id="belur_halebidu" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="temples"> <!-- Added temples collection -->
                    <div class="overflow-hidden h-64">
                        <img src="images/belur_halebidu.jpg" id="img-belur" alt="Intricately carved stone temple walls at Belur" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200"> <!-- Placeholder image -->
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Belur & Halebidu</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.6</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">Twin towns renowned for their exquisite Hoysala architecture, featuring intricately carved temples like Chennakesava (Belur) & Hoysaleswara (Halebidu).</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">Architecture</span>
                            <button class="toggle-details text-primary font-medium hover:text-primary/80 flex items-center text-sm transition-colors">
                                <span class="details-button-text">View Experiences</span> 
                                <i class="details-chevron fas fa-chevron-down ml-1.5 text-xs transition-transform duration-300"></i>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-gopuram text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Detailed Temple Architecture Tour</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-camera-retro text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Photography Walk of Hoysala Art</span>
                                </li>
                                 <li class="flex items-start">
                                    <i class="fas fa-history text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Historical Context Guided Visit</span>
                                </li>
                            </ul>
                            <div class="mt-4 flex gap-3">
                                <a href="experiences.html#belur_halebidu" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Belur & Halebidu">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Destination 10: Andaman Islands -->
                <div id="andaman" class="destination-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-gray-200" data-collection="beaches">
                    <div class="overflow-hidden h-64">
                        <img src="images/Andaman Islands.jpg" id="img-andaman" alt="Beautiful turquoise waters and pristine beach of Andaman Islands" class="destination-img w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out bg-gray-200">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-bold text-dark group-hover:text-primary transition-colors">Andaman Islands</h3>
                            <div class="flex items-center flex-shrink-0 ml-2">
                                <span class="text-yellow-500 mr-1"><i class="fas fa-star"></i></span>
                                <span class="text-sm font-medium text-gray-700">4.8</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">A tropical paradise with crystal clear turquoise waters, white sandy beaches, and rich marine biodiversity. Perfect for diving, snorkeling and beach relaxation.</p>
                        <div class="flex justify-between items-center mt-4">
                            <span class="bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full">Island</span>
                            <button class="toggle-details text-primary font-medium hover:text-primary/80 flex items-center text-sm transition-colors">
                                <span class="details-button-text">View Experiences</span> 
                                <i class="details-chevron fas fa-chevron-down ml-1.5 text-xs transition-transform duration-300"></i>
                            </button>
                        </div>
                    </div>
                    <div class="experience-details bg-gray-50 border-t border-gray-100 max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-6">
                            <h4 class="font-bold text-base mb-3 text-primary">Available Experiences:</h4>
                            <ul class="space-y-2 text-sm">
                                <li class="flex items-start">
                                    <i class="fas fa-water text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Scuba Diving at Havelock Island</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-umbrella-beach text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Radhanagar Beach Sunset Visit</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-ship text-primary/80 w-4 text-center mt-1 mr-2 flex-shrink-0"></i>
                                    <span>Glass Bottom Boat Ride</span>
                                </li>
                            </ul>
                            <div class="mt-4 flex gap-3">
                                <a href="experiences.html#andaman" class="inline-block bg-primary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm">View Details</a>
                                <button class="add-to-planner-btn inline-block bg-secondary text-white px-4 py-1.5 rounded-md text-sm hover:bg-opacity-90 transition shadow-sm" data-destination="Andaman Islands">
                                    <i class="fas fa-plus mr-1.5"></i> Add to Planner
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END NEW KARNATAKA DESTINATIONS -->
            </div>
            
            <!-- Pagination with Modern Styles -->
             <div class="flex justify-center mt-12 space-x-1" id="pagination-controls">
                 <a href="#" class="pagination-link py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 transition-colors duration-200">
                     <span class="sr-only">Previous</span>
                     <i class="fas fa-chevron-left text-xs"></i>
                 </a>
                 <a href="#" aria-current="page" class="pagination-link py-2 px-4 leading-tight text-white bg-primary border border-primary hover:bg-primary/90 z-10 transition-colors duration-200 font-medium">
                     1
                 </a>
                 <a href="#" class="pagination-link py-2 px-4 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 transition-colors duration-200">
                     2
                 </a>
                 <a href="#" class="pagination-link py-2 px-4 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 transition-colors duration-200">
                     3
                 </a>
                 <a href="#" class="pagination-link py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 transition-colors duration-200">
                     <span class="sr-only">Next</span>
                     <i class="fas fa-chevron-right text-xs"></i>
                 </a>
            </div>
        </div>
    </section>

    <!-- Hidden Gems Section - Applying unique styling -->
    <section class="py-16 bg-gradient-to-br from-teal-50 to-cyan-100"> 
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-display font-bold mb-2 text-center text-teal-800">Hidden Gems</h2>
            <p class="text-xl text-center mb-12 text-gray-600">Discover India's lesser-known treasures</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Hidden Gem 1: Orchha (New Card Structure) -->
                <div class="hidden-gem-card group bg-white/80 backdrop-blur-sm rounded-lg overflow-hidden shadow-lg hover:shadow-cyan-300/40 border border-cyan-200 transition-all duration-300" data-collection="palaces temples">
                    <div class="relative h-56 overflow-hidden">
                         <img src="images/orchha.jpg" alt="Palaces and temples along the Betwa River in Orchha" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                         <div class="absolute top-2 right-2 bg-white/80 text-teal-700 text-xs font-bold px-2 py-0.5 rounded-full shadow">Offbeat</div>
                         <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                            <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                            <span>Loading...</span>
                        </div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-xl font-bold mb-2 text-teal-900">Orchha</h3>
                        <p class="text-gray-700 mb-4 text-sm leading-relaxed h-20 overflow-hidden">A medieval town known for its stunning palaces, temples, and cenotaphs built by the Bundela rulers, located on the Betwa River.</p>
                        <div class="pt-3 border-t border-cyan-100 flex justify-between items-center">
                             <span class="text-xs text-gray-500">Madhya Pradesh</span>
                            <a href="javascript:void(0)" class="text-teal-600 font-medium hover:text-teal-800 text-sm flex items-center discover-more-btn" data-destination="orchha">Explore <i class="fas fa-arrow-right ml-1.5 text-xs"></i></a>
                        </div>
                    </div>
                </div>
                
                <!-- Hidden Gem 2: Gokarna (New Card Structure) -->
                <div class="hidden-gem-card group bg-white/80 backdrop-blur-sm rounded-lg overflow-hidden shadow-lg hover:shadow-cyan-300/40 border border-cyan-200 transition-all duration-300" data-collection="beaches temples">
                     <div class="relative h-56 overflow-hidden">
                         <img src="images/gokarna.jpg" alt="Aerial view of Om Beach in Gokarna" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                          <div class="absolute top-2 right-2 bg-white/80 text-teal-700 text-xs font-bold px-2 py-0.5 rounded-full shadow">Coastal</div>
                          <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium">
                            <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                            <span>Loading...</span>
                          </div>
                    </div>
                     <div class="p-5">
                        <h3 class="text-xl font-bold mb-2 text-teal-900">Gokarna</h3>
                        <p class="text-gray-700 mb-4 text-sm leading-relaxed h-20 overflow-hidden">A serene coastal town in Karnataka, known for its beautiful beaches (like Om Beach) and important Hindu pilgrimage sites.</p>
                         <div class="pt-3 border-t border-cyan-100 flex justify-between items-center">
                            <span class="text-xs text-gray-500">Karnataka</span>
                            <a href="javascript:void(0)" class="text-teal-600 font-medium hover:text-teal-800 text-sm flex items-center discover-more-btn" data-destination="gokarna">Explore <i class="fas fa-arrow-right ml-1.5 text-xs"></i></a>
                        </div>
                    </div>
                </div>
                
                 <!-- Hidden Gem 3: Gurez Valley -->
                <div class="hidden-gem-card group bg-white/80 backdrop-blur-sm rounded-lg overflow-hidden shadow-lg hover:shadow-cyan-300/40 border border-cyan-200 transition-all duration-300">
                    <div class="relative h-56 overflow-hidden">
                        <img src="images/Gurez Valley.jpg" alt="Scenic view of Gurez Valley in Kashmir with mountains and river" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                         <div class="absolute top-2 right-2 bg-white/80 text-teal-700 text-xs font-bold px-2 py-0.5 rounded-full shadow">Offbeat</div>
                         <div class="weather-badge absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1.5 rounded-full flex items-center text-sm font-medium" data-location="gurezvalley">
                            <div class="w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div>
                            <span>Loading...</span>
                         </div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-xl font-bold mb-2 text-teal-900">Gurez Valley</h3>
                        <p class="text-gray-700 mb-4 text-sm leading-relaxed h-20 overflow-hidden">A remote and pristine valley nestled among the mighty Himalayas in Kashmir, known for its untouched natural beauty, crystal clear rivers, and rich Dard-Shin culture.</p>
                         <div class="pt-3 border-t border-cyan-100 flex justify-between items-center">
                             <span class="text-xs text-gray-500">Jammu & Kashmir</span>
                            <a href="javascript:void(0)" class="text-teal-600 font-medium hover:text-teal-800 text-sm flex items-center discover-more-btn" data-destination="gurezvalley">Explore <i class="fas fa-arrow-right ml-1.5 text-xs"></i></a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
    

    <!-- Map Section -->

    <!-- Destination Inspiration -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-display font-bold mb-2 text-center">Get Inspired</h2>
            <p class="text-xl text-center mb-12 text-gray-600">Curated destination collections for every interest</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Collection 1 -->
                <a href="destinations.html?collection=temples" class="group block relative h-64 rounded-xl overflow-hidden shadow-md hover:shadow-lg custom-transition">
                    <img src="images/Ancient temples.jpg" alt="Colorful South Indian temple with ornate carvings and statues" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 text-white">
                        <h3 class="text-xl font-bold mb-1">Ancient Temples</h3>
                        <p class="text-sm">Spiritual journeys through sacred architecture</p>
                    </div>
                </a>
                
                <!-- Collection 2 -->
                <a href="destinations.html?collection=beaches" class="group block relative h-64 rounded-xl overflow-hidden shadow-md hover:shadow-lg custom-transition">
                    <img src="images/river rafting.jpg" alt="Pristine beach with palm trees and turquoise waters in Goa" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 text-white">
                        <h3 class="text-xl font-bold mb-1">Beach Getaways</h3>
                        <p class="text-sm">Sun, sand and ocean adventures</p>
                    </div>
                </a>
                
                <!-- Collection 3 -->
                <a href="destinations.html?collection=palaces" class="group block relative h-64 rounded-xl overflow-hidden shadow-md hover:shadow-lg custom-transition">
                    <img src="images/steet food.jpg" alt="Royal Palace with reflections in lake at sunset in Udaipur" class="w-full h-full object-cover"> <!-- Note: Image alt text seems wrong here, should be palace? -->
                    <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 text-white">
                        <h3 class="text-xl font-bold mb-1">Royal Palaces</h3>
                        <p class="text-sm">Experience India's royal heritage</p>
                    </div>
                </a>
                
                <!-- Collection 4 -->
                <a href="destinations.html?collection=mountains" class="group block relative h-64 rounded-xl overflow-hidden shadow-md hover:shadow-lg custom-transition">
                    <img src="images/himalaya treak.jpg" alt="Snow-capped Himalayan peaks with colorful meadows in the foreground" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 text-white">
                        <h3 class="text-xl font-bold mb-1">Himalayan Escapes</h3>
                        <p class="text-sm">Mountain adventures and scenic beauty</p>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer (same as index.html) -->
    <!-- Experience Panel - Will be shown when a destination's experience button is clicked -->
    <div id="experience-panel" class="fixed inset-0 z-40 hidden">
        <!-- Backdrop with blur effect -->
        <div class="absolute inset-0 bg-black/30 backdrop-blur-sm experience-backdrop"></div>
        
        <!-- Experience panel content -->
        <div class="experience-content absolute right-0 top-0 h-full w-full md:w-1/3 lg:w-1/4 bg-white shadow-2xl transform translate-x-full transition-transform duration-500 ease-in-out overflow-y-auto">
            <div class="sticky top-0 z-10 bg-white/90 backdrop-blur-sm shadow-sm">
                <div class="flex justify-between items-center p-4 border-b">
                    <h3 class="text-xl font-bold text-primary flex items-center">
                        <i class="fas fa-map-marked-alt mr-2"></i>
                        <span id="experience-title">Experiences</span>
                    </h3>
                    <button id="close-experience-panel" class="text-gray-500 hover:text-gray-800 transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div id="experience-content" class="p-5"><!-- Content will be dynamically inserted here --></div>
        </div>
    </div>
    
    <!-- Notification system -->
    <div id="notification" class="notification bg-white">
        <!-- Content will be inserted dynamically -->
    </div>
    
    <!-- Trip Planner floating button -->
    <div id="planner-count" class="planner-count">
        <div>
            <span id="planner-count-number" class="text-xl font-bold">0</span>
        </div>
    </div>
    
    <footer class="bg-dark text-white pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div>
                    <h3 class="text-xl font-bold mb-4">DeshaAnubhava</h3>
                    <p class="text-gray-400 mb-6">Your ultimate guide to experiencing India. Discover destinations, plan your trip, and create unforgettable memories.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="destinations.html" class="text-gray-400 hover:text-white transition-colors">Destinations</a></li>
                        <li><a href="experiences.html" class="text-gray-400 hover:text-white transition-colors">Experiences</a></li>
                        <li><a href="events.html" class="text-gray-400 hover:text-white transition-colors">Events</a></li>
                        <li><a href="planner.html" class="text-gray-400 hover:text-white transition-colors">Trip Planner</a></li>
                        <li><a href="stories.html" class="text-gray-400 hover:text-white transition-colors">Traveler Stories</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Resources</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Travel Tips</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Visa Information</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Weather Guide</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Safety Guidelines</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">COVID-19 Updates</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Contact Us</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-start">
                            <i class="fas fa-map-marker-alt mt-1 mr-3"></i>
                            <span>123 Tourism Street, New Delhi, India</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-phone-alt mt-1 mr-3"></i>
                            <span>+91 98765 43210</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-envelope mt-1 mr-3"></i>
                            <span>info@exploreindia.com</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-500 mb-4 md:mb-0">&copy; 2023 ExploreIndia. All rights reserved.</p>
                    <div class="flex space-x-6">
                        <a href="#" class="text-gray-500 hover:text-white transition-colors">Privacy Policy</a>
                        <a href="#" class="text-gray-500 hover:text-white transition-colors">Terms of Service</a>
                        <a href="#" class="text-gray-500 hover:text-white transition-colors">Accessibility</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/destinations.js"></script>
    <script src="js/main.js"></script>
    <script src="js/weather.js"></script>

    <!-- Destination Detail Modal (inspired by Incredible India) -->
    <div id="destination-detail-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="min-h-screen flex items-center justify-center p-4">
            <!-- Backdrop -->
            <div class="fixed inset-0 bg-black opacity-70 modal-backdrop"></div>
            
            <!-- Modal Content -->
            <div class="relative bg-white w-full max-w-6xl rounded-lg shadow-2xl max-h-[90vh] overflow-y-auto">
                <!-- Close Button -->
                <button id="close-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 z-10">
                    <i class="fas fa-times text-2xl"></i>
                </button>
                
                <!-- Modal Content Container -->
                <div id="modal-content" class="flex flex-col md:flex-row">
                    <!-- Content will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Toggle script for destination details -->
    <style>
        /* Animation for the experience indicator dot */
        @keyframes ping-slow {
            0% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.5); opacity: 0.4; }
            100% { transform: scale(1); opacity: 0.8; }
        }
        
        .pulse-animate {
            animation: ping-slow 2s infinite;
        }
        
        /* Style for the experience panel slide-in/out */
        .panel-visible .experience-content {
            transform: translateX(0) !important;
        }
        
        /* Experience card animation */
        @keyframes card-appear {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .experience-card {
            animation: card-appear 0.5s ease-out forwards;
        }
        
        .experience-card:nth-child(2) {
            animation-delay: 0.1s;
        }
        
        .experience-card:nth-child(3) {
            animation-delay: 0.2s;
        }
        
        .experience-card:nth-child(4) {
            animation-delay: 0.3s;
        }
        
        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            transform: translateX(120%);
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        /* Planner counter badge */
        .planner-count {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 90;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(to right, var(--color-primary), var(--color-secondary));
            color: white;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .planner-count.active {
            opacity: 1;
            transform: scale(1);
        }
        
        .planner-count:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
        }
    </style>
    
    <script>
        // Experience data for each destination
        const experienceData = {
            'tajmahal': {
                title: 'Taj Mahal Experiences',
                bestTime: 'October to March',
                experiences: [
                    {
                        name: 'Sunrise Photography Tour',
                        icon: 'camera',
                        description: 'Capture the magical colors of the Taj Mahal at dawn when it glows with the soft light of sunrise.',
                        duration: '3 hours',
                        price: '2,500 per person'
                    },
                    {
                        name: 'Full Moon Viewing',
                        icon: 'moon',
                        description: 'Experience the ethereal beauty of the Taj Mahal under moonlight during the special night viewing sessions.',
                        duration: '1.5 hours',
                        price: '1,000 per person'
                    },
                    {
                        name: 'Guided Historical Tour',
                        icon: 'book',
                        description: 'Learn the fascinating history and symbolism behind this monument of eternal love with expert guides.',
                        duration: '2.5 hours',
                        price: '1,800 per person'
                    }
                ]
            },
            'varanasi': {
                title: 'Varanasi Experiences',
                bestTime: 'October to March',
                experiences: [
                    {
                        name: 'Dawn Boat Ride on the Ganges',
                        icon: 'water',
                        description: 'Witness the spiritual awakening of Varanasi as you glide along the sacred river at sunrise.',
                        duration: '2 hours',
                        price: '1,200 per person'
                    },
                    {
                        name: 'Evening Ganga Aarti Ceremony',
                        icon: 'fire',
                        description: 'Experience the mesmerizing ritual of light and sound at Dashashwamedh Ghat as priests perform the sacred ceremony.',
                        duration: '1.5 hours',
                        price: '800 per person'
                    },
                    {
                        name: 'Old City Walking Tour',
                        icon: 'street-view',
                        description: 'Navigate the labyrinthine lanes of one of the world\'s oldest continually inhabited cities.',
                        duration: '3 hours',
                        price: '1,500 per person'
                    }
                ]
            },
            'kerala': {
                title: 'Kerala Backwaters Experiences',
                bestTime: 'September to March',
                experiences: [
                    {
                        name: 'Overnight Houseboat Stay',
                        icon: 'ship',
                        description: 'Cruise the tranquil backwaters on a traditional kettuvallam with comfortable accommodations and authentic cuisine.',
                        duration: '24 hours',
                        price: '8,000 per night'
                    },
                    {
                        name: 'Spice Plantation Tour',
                        icon: 'leaf',
                        description: 'Explore the aromatic world of spices that made Kerala famous throughout history.',
                        duration: '3 hours',
                        price: '1,200 per person'
                    },
                    {
                        name: 'Ayurvedic Spa Retreat',
                        icon: 'spa',
                        description: 'Rejuvenate with traditional Ayurvedic treatments in the land where this ancient healing science flourishes.',
                        duration: '4 hours',
                        price: '3,500 per person'
                    }
                ]
            },
            'jaipur': {
                title: 'Jaipur Experiences',
                bestTime: 'October to March',
                experiences: [
                    {
                        name: 'Amber Fort Elephant Ride',
                        icon: 'fort-awesome',
                        description: 'Ascend to the majestic Amber Fort just as royalty once did, atop a beautifully decorated elephant.',
                        duration: '1 hour',
                        price: '1,000 per person'
                    },
                    {
                        name: 'Bazaar Walking Tour',
                        icon: 'shopping-bag',
                        description: 'Immerse yourself in the vibrant markets of the Pink City, known for textiles, jewelry, and handicrafts.',
                        duration: '3 hours',
                        price: '1,200 per person'
                    },
                    {
                        name: 'Royal Rajasthani Cooking Class',
                        icon: 'utensils',
                        description: 'Learn to prepare authentic Rajasthani dishes with recipes passed down through generations.',
                        duration: '4 hours',
                        price: '2,500 per person'
                    }
                ]
            },
            'goa': {
                title: 'Goa Experiences',
                bestTime: 'November to February',
                experiences: [
                    {
                        name: 'Beach Hopping Tour',
                        icon: 'umbrella-beach',
                        description: 'Discover the diverse character of Goa\'s beaches, from tranquil hidden coves to vibrant shores.',
                        duration: '6 hours',
                        price: '1,800 per person'
                    },
                    {
                        name: 'Sunset Cruise with Dinner',
                        icon: 'cocktail',
                        description: 'Sail along the Arabian Sea as the sun sets, with music, dancing, and a seafood dinner.',
                        duration: '3 hours',
                        price: '2,200 per person'
                    },
                    {
                        name: 'Old Goa Portuguese Heritage Tour',
                        icon: 'church',
                        description: 'Explore the magnificent churches and colonial architecture of Old Goa, a UNESCO World Heritage site.',
                        duration: '4 hours',
                        price: '1,500 per person'
                    }
                ]
            },
            'darjeeling': {
                title: 'Darjeeling Experiences',
                bestTime: 'April to June, September to November',
                experiences: [
                    {
                        name: 'Himalayan "Toy Train" Ride',
                        icon: 'train',
                        description: 'Journey on the historic narrow-gauge railway that winds through breathtaking mountain landscapes.',
                        duration: '2 hours',
                        price: '1,200 per person'
                    },
                    {
                        name: 'Tea Plantation Tour & Tasting',
                        icon: 'coffee',
                        description: 'Walk through verdant tea gardens and witness the entire tea-making process, followed by a tasting session.',
                        duration: '3 hours',
                        price: '1,500 per person'
                    },
                    {
                        name: 'Tiger Hill Sunrise Trek',
                        icon: 'hiking',
                        description: 'Witness the spectacular sunrise over Kanchenjunga, the world\'s third-highest peak, from this famous viewpoint.',
                        duration: '4 hours',
                        price: '1,800 per person'
                    }
                ]
            },
            'gurezvalley': {
                title: 'Gurez Valley Experiences',
                bestTime: 'June to September',
                experiences: [
                    {
                        name: 'Habba Khatoon Peak Trek',
                        icon: 'mountain',
                        description: 'Trek to the pyramid-shaped peak named after the famous poetess, with panoramic views of the valley and Kishanganga River.',
                        duration: '6 hours',
                        price: '2,500 per person'
                    },
                    {
                        name: 'Dard-Shin Cultural Experience',
                        icon: 'users',
                        description: 'Immerse yourself in the unique culture of the local Dard-Shin tribe, enjoying traditional meals, folk music, and crafts.',
                        duration: '4 hours',
                        price: '1,800 per person'
                    },
                    {
                        name: 'Kishanganga River Fishing',
                        icon: 'fish',
                        description: 'Try your hand at fishing for trout in the crystal clear waters of the Kishanganga River with local guides.',
                        duration: '3 hours',
                        price: '1,500 per person'
                    }
                ]
            }
        };
        
        // Destination data for detailed view
        const destinationData = {
            'tajmahal': {
                name: 'Taj Mahal',
                title: 'A monument of eternal love',
                city: 'Agra',
                state: 'Uttar Pradesh',
                region: 'North India',
                description: 'The Taj Mahal, India\'s iconic ivory-white marble mausoleum, is a world within itself. With its breathtaking symmetry and architectural grandeur, the Taj Mahal never fails to captivate. From its rich history as a monument of love to its intricate craftsmanship, this UNESCO World Heritage site offers an unforgettable experience.',
                history: 'One of the world\'s most famous monuments of love, the Taj Mahal was built by Emperor Shah Jahan in memory of his beloved wife Mumtaz Mahal. Construction began in 1632 and was completed in 1653. Over 20,000 artisans worked on this architectural marvel, which combines elements of Persian, Islamic, and Indian architectural styles.',
                heroImage: 'images/tajmahal.jpg',
                facts: [
                    'The Taj Mahal appears to change color throughout the day, from pink in the morning to white in the evening and golden by moonlight.',
                    'It took over 22 years and 20,000 workers to complete this monument of love.',
                    'The four minarets surrounding the Taj Mahal were designed to lean slightly outward so that in the event of an earthquake, they would fall away from the main structure.'
                ],
                transportation: {
                    airports: 'Agra Airport (AGR)',
                    railway: 'Agra Cantt Railway Station',
                    localTransport: 'Auto-rickshaws, taxis, and cycle-rickshaws are readily available'
                },
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Agra Fort', 'Fatehpur Sikri', 'Mehtab Bagh', 'Itimad-ud-Daulah\'s Tomb'],
                experiences: ['Sunrise Viewing', 'Full Moon Night Viewing', 'Heritage Walk', 'Photography Tour']
            },
            'varanasi': {
                name: 'Varanasi',
                title: 'The spiritual capital of India',
                city: 'Varanasi',
                state: 'Uttar Pradesh',
                region: 'North India',
                description: 'Varanasi, India\'s spiritual capital, is a world within itself. With its kaleidoscope of rituals, sounds, and sights along the sacred Ganges, Varanasi never fails to captivate. From its rich history and spiritual significance to its delectable cuisine and vibrant culture, the city offers an unforgettable experience.',
                history: 'One of the world\'s oldest continuously inhabited cities, Varanasi\'s roots date back to the 11th century BCE. The city has been a cultural and religious center for thousands of years, particularly important in Hinduism as it\'s believed that dying here leads to salvation.',
                heroImage: 'images/varanasi.jpg',
                facts: [
                    'The ancient Hindu epic Ramcharitmanas was written at Tulsi Manas Mandir by the revered poet-saint, Goswami Tulsidas.',
                    'Varanasi is one of the seven sacred cities of Hinduism.',
                    'The city is known for its fine silk weaving, particularly the famous Banarasi sarees.'
                ],
                transportation: {
                    airports: 'Lal Bahadur Shastri International Airport (VNS)',
                    railway: 'Varanasi Junction Railway Station',
                    localTransport: 'Auto-rickshaws, cycle-rickshaws, and boat rides along the Ganges'
                },
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Sarnath', 'Ramnagar Fort', 'Banaras Hindu University', 'Kashi Vishwanath Temple'],
                experiences: ['Ganga Aarti', 'Boat Ride at Dawn', 'Heritage Walk', 'Spiritual Ceremonies']
            },
            'jaipur': {
                name: 'Jaipur',
                title: 'The Pink City of royal splendor',
                city: 'Jaipur',
                state: 'Rajasthan',
                region: 'North India',
                description: 'Jaipur, Rajasthan\'s vibrant capital, is a world within itself. With its stunning pink-hued buildings, magnificent forts, and opulent palaces, Jaipur never fails to captivate. From its rich royal history and architectural marvels to its colorful bazaars and delectable cuisine, the city offers an unforgettable experience.',
                history: 'Founded in 1727 by Maharaja Sawai Jai Singh II, Jaipur was India\'s first planned city. It earned the nickname "Pink City" when the buildings were painted pinkthe color of hospitalityto welcome the Prince of Wales in 1876. The city represents the rich cultural heritage of Rajputana traditions.',
                heroImage: 'images/Jaipur.jpg',
                facts: [
                    'Jaipur is known as the "Pink City" because its buildings were painted pink to welcome the Prince of Wales in 1876.',
                    'The Hawa Mahal has 953 small windows called jharokhas that were designed to allow royal ladies to observe street festivities while unseen.',
                    'Jaipur forms one corner of the Golden Triangle tourist circuit along with Delhi and Agra.'
                ],
                transportation: {
                    airports: 'Jaipur International Airport (JAI)',
                    railway: 'Jaipur Junction Railway Station',
                    localTransport: 'Auto-rickshaws, taxis, and the city bus service'
                },
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Amber Fort', 'Hawa Mahal', 'City Palace', 'Jantar Mantar', 'Nahargarh Fort'],
                experiences: ['Elephant Ride at Amber Fort', 'Hot Air Balloon Safari', 'Heritage Walk', 'Rajasthani Folk Dance Performance']
            },
            'orchha': {
                name: 'Orchha',
                title: 'Medieval splendor frozen in time',
                city: 'Orchha',
                state: 'Madhya Pradesh',
                region: 'Central India',
                description: 'Orchha is a hidden historical treasure in Madhya Pradesh, known for its well-preserved medieval architecture. This small town on the banks of the Betwa River showcases magnificent palaces, temples and cenotaphs from the 16th and 17th centuries, offering visitors a glimpse into the royal grandeur of the Bundela dynasty.',
                history: 'Founded in the 16th century by the Bundela chief Rudra Pratap Singh, Orchha served as the capital of the Bundela kingdom until 1783. The town retains much of its historical charm with its palaces, temples, and cenotaphs largely unchanged since medieval times.',
                heroImage: 'images/orchha.jpg',
                facts: [
                    'The stunning Chaturbhuj Temple was built with a unique purpose - to house the idol of Lord Rama that was brought from Ayodhya.',
                    'Orchha\'s palaces and temples feature a unique blend of Mughal and Rajput architectural styles.',
                    'The Betwa River flowing alongside the town adds to its picturesque beauty and religious significance.'
                ],
                transportation: {
                    airports: 'Gwalior Airport (115 km) or Khajuraho Airport (175 km)',
                    railway: 'Jhansi Railway Station (18 km)',
                    localTransport: 'Auto-rickshaws, taxis, and bicycle rentals available locally'
                },
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Orchha Fort Complex', 'Jahangir Mahal', 'Chaturbhuj Temple', 'Ram Raja Temple', 'Cenotaphs'],
                experiences: ['Sound and Light Show at Orchha Fort', 'River Rafting in Betwa', 'Heritage Walk', 'Bird Watching']
            },
            'gokarna': {
                name: 'Gokarna',
                title: 'Serene beaches and spiritual vibes',
                city: 'Gokarna',
                state: 'Karnataka',
                region: 'South India',
                description: 'Gokarna offers the perfect blend of spirituality and beach tranquility. This small coastal town in Karnataka is known for its pristine beaches, laid-back atmosphere, and ancient temples. Less commercialized than Goa, Gokarna provides visitors with a more authentic and peaceful coastal experience while still offering the natural beauty of the Arabian Sea.',
                history: 'Gokarna has been a significant Hindu pilgrimage center for centuries, particularly important to devotees of Lord Shiva. The name "Gokarna" means "cow\'s ear" in Sanskrit, referring to the shape of the confluence of two rivers where the sacred Mahabaleshwar Temple stands.',
                heroImage: 'images/gokarna.jpg',
                facts: [
                    'Om Beach is named for its natural shape that resembles the sacred Om symbol when viewed from above.',
                    'Gokarna is one of the seven important Hindu pilgrimage centers called Muktikshetras or Muktistala.',
                    'The town magically transforms during Mahashivaratri festival when thousands of pilgrims visit to seek blessings.'
                ],
                transportation: {
                    airports: 'Dabolim Airport, Goa (140 km)',
                    railway: 'Ankola Railway Station (20 km) or Kumta Railway Station (25 km)',
                    localTransport: 'Auto-rickshaws, taxis, and rented scooters'
                },
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Om Beach', 'Kudle Beach', 'Half Moon Beach', 'Paradise Beach', 'Mahabaleshwar Temple'],
                experiences: ['Beach Trekking', 'Temple Visit', 'Boat Trips', 'Sunset Viewing', 'Yoga Retreats']
            },
            'placeholder': {
                name: 'Hidden Gem',
                title: 'Discover something unique',
                city: 'Various Locations',
                state: 'Across India',
                region: 'Pan India',
                description: 'India is filled with countless hidden treasures waiting to be discovered. From remote mountain villages to secluded beaches, ancient ruins to living heritage sites, the subcontinent offers endless possibilities for the adventurous traveler seeking authentic experiences away from the tourist crowds.',
                history: 'Throughout India\'s rich and diverse history, countless communities, traditions, and natural wonders have remained relatively untouched by mass tourism, preserving their authenticity and charm.',
                heroImage: 'images/placeholder_gem.jpg',
                facts: [
                    'India has over 38 UNESCO World Heritage Sites, but thousands more cultural and natural treasures await discovery.',
                    'Many of India\'s most rewarding destinations are accessible only by foot, boat, or local transportation.',
                    'Small villages often offer the most authentic cultural experiences and warmest hospitality.'
                ],
                transportation: {
                    airports: 'Various regional airports',
                    railway: 'India\'s extensive railway network reaches many remote areas',
                    localTransport: 'Local transport varies by region - from mountain jeeps to boats'
                },
                bestTimeToVisit: 'Varies by region and elevation',
                nearbyAttractions: ['Local temples', 'Natural wonders', 'Traditional villages', 'Local crafts and cuisine'],
                experiences: ['Cultural immersion', 'Nature exploration', 'Community-based tourism', 'Photography']
            }
        };
        
        document.addEventListener('DOMContentLoaded', function() {
            // Region and State Filtering
            const regionButtons = document.querySelectorAll('.region-btn');
            const destinationCards = document.querySelectorAll('.destination-card');
            
            // Region filtering
            regionButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const region = this.getAttribute('href').replace('#', '');
                    
                    // Update active state for region buttons
                    regionButtons.forEach(btn => btn.classList.remove('bg-primary', 'text-white'));
                    this.classList.add('bg-primary', 'text-white');
                    

                    
                    // Filter destination cards
                    destinationCards.forEach(card => {
                        if (region === 'all') {
                            card.classList.remove('hidden');
                        } else if (card.dataset.region === region) {
                            card.classList.remove('hidden');
                        } else {
                            card.classList.add('hidden');
                        }
                    });
                });
            });
            

            
            // Destination Detail Modal Functionality
            const detailModal = document.getElementById('destination-detail-modal');
            const modalContent = document.getElementById('modal-content');
            const closeModalBtn = document.getElementById('close-modal');
            const modalBackdrop = document.querySelector('.modal-backdrop');
            const discoverMoreBtns = document.querySelectorAll('.discover-more-btn');
            
            // Open modal with destination details
            discoverMoreBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const destinationId = this.getAttribute('data-destination');
                    const destination = destinationData[destinationId];
                    
                    if (destination) {
                        // Populate modal content
                        modalContent.innerHTML = `
                            <div class="w-full md:w-2/3 relative">
                                <div class="relative h-64 md:h-full">
                                    <img src="${destination.heroImage}" alt="${destination.name}" class="w-full h-full object-cover">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                                    <div class="absolute bottom-0 left-0 p-6 text-white">
                                        <h1 class="text-4xl font-bold mb-2">${destination.name}</h1>
                                        <p class="text-xl">${destination.title}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full md:w-1/3 p-6 bg-white overflow-y-auto">
                                <div class="mb-6">
                                    <h2 class="text-2xl font-bold mb-4 text-gray-800 border-b pb-2">A city of beautiful contrasts</h2>
                                    <p class="text-gray-700 leading-relaxed">${destination.description}</p>
                                </div>
                                
                                <div class="mb-6">
                                    <div class="flex justify-between items-center mb-4">
                                        <h3 class="text-lg font-bold text-gray-800">Current Weather</h3>
                                        <span class="text-primary font-medium">Real-time</span>
                                    </div>
                                    <div class="bg-gray-100 p-4 rounded-lg" id="modal-weather">
                                        <div class="flex items-center">
                                            <div class="w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin mr-2"></div>
                                            <p>Loading weather data...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-bold text-gray-800 mb-3">Major Airports:</h3>
                                    <p class="text-gray-700">${destination.transportation.airports}</p>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-bold text-gray-800 mb-3">Nearest Railway Station:</h3>
                                    <p class="text-gray-700">${destination.transportation.railway}</p>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-bold text-gray-800 mb-3">Best Time to Visit:</h3>
                                    <p class="text-gray-700">${destination.bestTimeToVisit}</p>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-bold text-gray-800 mb-3">Must-Visit Attractions:</h3>
                                    <ul class="list-disc pl-5 text-gray-700">
                                        ${destination.nearbyAttractions.map(attraction => `<li>${attraction}</li>`).join('')}
                                    </ul>
                                </div>
                                
                                <div class="mt-6">
                                    <a href="experiences.html#${destinationId}" class="inline-block bg-primary text-white px-6 py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">Explore Experiences</a>
                                </div>
                            </div>
                        `;
                        
                        // Show modal
                        detailModal.classList.remove('hidden');
                        document.body.classList.add('overflow-hidden');
                    }
                });
            });
            
            // Close modal functionality
            function closeModal() {
                detailModal.classList.add('hidden');
                document.body.classList.remove('overflow-hidden');
            }
            
            closeModalBtn.addEventListener('click', closeModal);
            modalBackdrop.addEventListener('click', closeModal);
            
            // Close modal when Escape key is pressed
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && !detailModal.classList.contains('hidden')) {
                    closeModal();
                }
            });
            
            // Experience Panel Functionality
            const experiencePanel = document.getElementById('experience-panel');
            const experienceContent = document.getElementById('experience-content');
            const experienceTitle = document.getElementById('experience-title');
            const closeExperienceButton = document.getElementById('close-experience-panel');
            const experienceBackdrop = document.querySelector('.experience-backdrop');
            const experienceTriggers = document.querySelectorAll('.experience-trigger');
            const notification = document.getElementById('notification');
            const plannerCountEl = document.getElementById('planner-count');
            const plannerCountNumber = document.getElementById('planner-count-number');
            
            // Initialize from localStorage
            updatePlannerCount();
            
            // Helper functions for favorites and planner
            function getFavorites() {
                const favs = localStorage.getItem('exploreIndia_favorites');
                return favs ? JSON.parse(favs) : [];
            }
            
            function saveFavorite(experienceId) {
                const favorites = getFavorites();
                if (!favorites.includes(experienceId)) {
                    favorites.push(experienceId);
                    localStorage.setItem('exploreIndia_favorites', JSON.stringify(favorites));
                    return true; // Added new
                }
                return false; // Already exists
            }
            
            function removeFavorite(experienceId) {
                const favorites = getFavorites();
                const index = favorites.indexOf(experienceId);
                if (index > -1) {
                    favorites.splice(index, 1);
                    localStorage.setItem('exploreIndia_favorites', JSON.stringify(favorites));
                    return true; // Removed
                }
                return false; // Wasn't in favorites
            }
            
            function getPlannerItems() {
                const items = localStorage.getItem('exploreIndia_planner');
                return items ? JSON.parse(items) : [];
            }
            
            function addToPlannerItems(item) {
                const plannerItems = getPlannerItems();
                // Check if already exists
                if (!plannerItems.some(i => i.id === item.id)) {
                    plannerItems.push(item);
                    localStorage.setItem('exploreIndia_planner', JSON.stringify(plannerItems));
                    updatePlannerCount();
                    return true; // Added new
                }
                return false; // Already exists
            }
            
            function removeFromPlannerItems(itemId) {
                const plannerItems = getPlannerItems();
                const initialCount = plannerItems.length;
                const filteredItems = plannerItems.filter(item => item.id !== itemId);
                localStorage.setItem('exploreIndia_planner', JSON.stringify(filteredItems));
                updatePlannerCount();
                return filteredItems.length < initialCount; // True if something was removed
            }
            
            function updatePlannerCount() {
                const count = getPlannerItems().length;
                plannerCountNumber.textContent = count;
                
                if (count > 0) {
                    plannerCountEl.classList.add('active');
                } else {
                    plannerCountEl.classList.remove('active');
                }
            }
            
            function showNotification(message, type = 'success') {
                // Set colors based on type
                let bgColor, textColor, borderColor, icon;
                
                if (type === 'success') {
                    bgColor = 'bg-green-50';
                    textColor = 'text-green-800';
                    borderColor = 'border-l-4 border-green-500';
                    icon = 'check-circle';
                } else if (type === 'info') {
                    bgColor = 'bg-blue-50';
                    textColor = 'text-blue-800';
                    borderColor = 'border-l-4 border-blue-500';
                    icon = 'info-circle';
                } else if (type === 'warning') {
                    bgColor = 'bg-yellow-50';
                    textColor = 'text-yellow-800';
                    borderColor = 'border-l-4 border-yellow-500';
                    icon = 'exclamation-circle';
                }
                
                // Set content
                notification.className = `notification ${bgColor} ${borderColor} ${textColor}`;
                notification.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-${icon} text-2xl mr-3"></i>
                        <div>${message}</div>
                    </div>
                `;
                
                // Show notification
                notification.classList.add('show');
                
                // Hide after 3 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Setup experience buttons (like and add to planner)
            function setupExperienceButtons(destinationId) {
                // Set up like button functionality
                document.querySelectorAll('.experience-like-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const experienceId = this.getAttribute('data-exp-id');
                        const icon = this.querySelector('i');
                        
                        if (icon.classList.contains('far')) { // Add to favorites
                            icon.classList.remove('far');
                            icon.classList.add('fas');
                            this.classList.add('text-red-500');
                            saveFavorite(experienceId);
                            showNotification('Added to your favorites!', 'success');
                        } else { // Remove from favorites
                            icon.classList.remove('fas');
                            icon.classList.add('far');
                            this.classList.remove('text-red-500');
                            removeFavorite(experienceId);
                            showNotification('Removed from favorites', 'info');
                        }
                    });
                });
                
                // Set up add to planner functionality
                document.querySelectorAll('.add-to-planner-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const experienceId = this.getAttribute('data-exp-id');
                        const destination = this.getAttribute('data-destination');
                        const experienceName = this.getAttribute('data-exp-name');
                        const price = this.getAttribute('data-exp-price');
                        const duration = this.getAttribute('data-exp-duration');
                        
                        const destinationData = experienceData[destination];
                        const destinationName = destinationData ? destinationData.title.split(' Experiences')[0] : destination;
                        
                        if (this.innerHTML.includes('Add to Planner')) { // Add to planner
                            // Create planner item
                            const plannerItem = {
                                id: experienceId,
                                destination: destinationName,
                                experience: experienceName,
                                price: price,
                                duration: duration
                            };
                            
                            if (addToPlannerItems(plannerItem)) {
                                // Update button
                                this.innerHTML = '<i class="fas fa-check mr-1"></i> Added to Planner';
                                this.classList.remove('bg-primary/10', 'text-primary');
                                this.classList.add('bg-green-100', 'text-green-700');
                                
                                showNotification(`Added "${experienceName}" to your trip planner!`, 'success');
                            }
                        } else { // Remove from planner
                            if (removeFromPlannerItems(experienceId)) {
                                // Update button
                                this.innerHTML = '<i class="fas fa-plus mr-1"></i> Add to Planner';
                                this.classList.remove('bg-green-100', 'text-green-700');
                                this.classList.add('bg-primary/10', 'text-primary');
                                
                                showNotification(`Removed "${experienceName}" from your trip planner`, 'info');
                            }
                        }
                    });
                });
            }
            
            // Add pulse animation to the experience indicators
            document.querySelectorAll('.experience-indicator').forEach(indicator => {
                indicator.classList.add('pulse-animate');
            });
            
            // Function to open the experience panel
            function openExperiencePanel(destinationId) {
                const destination = experienceData[destinationId];
                
                if (!destination) {
                    console.error('No experience data found for:', destinationId);
                    return;
                }
                
                // Set the panel title
                experienceTitle.textContent = destination.title;
                
                // Get favorites from localStorage
                const favorites = getFavorites();
                
                // Get trip planner items from localStorage
                const plannerItems = getPlannerItems();
                
                // Populate experience content
                let content = `
                    <div class="mb-5 bg-primary/5 p-4 rounded-lg border-l-4 border-primary">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-calendar-alt text-primary mr-2"></i>
                            <h3 class="font-bold text-gray-800">Best Time to Visit:</h3>
                        </div>
                        <p class="text-gray-700">${destination.bestTime}</p>
                    </div>
                    
                    <h3 class="text-lg font-bold mb-4 text-gray-800 flex items-center">
                        <i class="fas fa-compass text-primary mr-2"></i>
                        Available Experiences
                    </h3>
                `;
                
                // Add experience cards
                destination.experiences.forEach((exp, index) => {
                    // Create a unique ID for each experience
                    const expId = `${destinationId}-exp-${index}`;
                    
                    // Check if this experience is favorited
                    const isFavorited = favorites.includes(expId);
                    
                    // Check if this experience is in the planner
                    const isInPlanner = plannerItems.some(item => item.id === expId);
                    
                    content += `
                        <div class="experience-card mb-4 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow" data-exp-id="${expId}">
                            <div class="p-4">
                                <div class="flex items-start">
                                    <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mr-3">
                                        <i class="fas fa-${exp.icon} text-primary"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-gray-800">${exp.name}</h4>
                                        <p class="text-sm text-gray-600 mt-1">${exp.description}</p>
                                    </div>
                                </div>
                                
                                <div class="mt-4 pt-3 border-t border-gray-100 flex justify-between items-center text-sm">
                                    <div class="flex items-center">
                                        <i class="far fa-clock text-gray-500 mr-1"></i>
                                        <span class="text-gray-700">${exp.duration}</span>
                                    </div>
                                    <div class="font-medium text-primary">${exp.price}</div>
                                </div>
                            </div>
                            <div class="bg-gray-50 px-4 py-3 flex justify-between">
                                <button class="experience-like-btn ${isFavorited ? 'text-red-500' : 'text-gray-400'} hover:text-red-500 transition-colors" 
                                        title="${isFavorited ? 'Remove from favorites' : 'Add to favorites'}"
                                        data-exp-id="${expId}">
                                    <i class="${isFavorited ? 'fas' : 'far'} fa-heart"></i>
                                </button>
                                <button class="add-to-planner-btn text-sm ${isInPlanner ? 'bg-green-100 text-green-700' : 'bg-primary/10 text-primary'} 
                                                hover:bg-primary/20 px-3 py-1 rounded-full transition-colors"
                                        data-exp-id="${expId}"
                                        data-destination="${destinationId}"
                                        data-exp-name="${exp.name}"
                                        data-exp-price="${exp.price}"
                                        data-exp-duration="${exp.duration}">
                                    <i class="${isInPlanner ? 'fas fa-check' : 'fas fa-plus'} mr-1"></i> 
                                    ${isInPlanner ? 'Added to Planner' : 'Add to Planner'}
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                // Add View All button
                content += `
                    <div class="mt-6 flex justify-center">
                        <a href="experiences.html#${destinationId}" class="inline-flex items-center bg-primary text-white px-5 py-2 rounded-lg hover:bg-primary/90 transition-colors shadow-sm">
                            <i class="fas fa-th-list mr-2"></i>
                            View All Experiences
                        </a>
                    </div>
                `;
                
                // Set content and show panel
                experienceContent.innerHTML = content;
                experiencePanel.classList.add('panel-visible');
                experiencePanel.classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
                
                // Animate panel sliding in
                setTimeout(() => {
                    document.querySelector('.experience-content').style.transform = 'translateX(0)';
                }, 10);
                
                // Set up functionality for both buttons
                setupExperienceButtons(destinationId);
            }
            
            // Function to close the experience panel
            function closeExperiencePanel() {
                document.querySelector('.experience-content').style.transform = 'translateX(100%)';
                
                // Hide panel after transition completes
                setTimeout(() => {
                    experiencePanel.classList.remove('panel-visible');
                    experiencePanel.classList.add('hidden');
                    document.body.classList.remove('overflow-hidden');
                }, 500);
            }
            
            // Set up event listeners for experience triggers
            experienceTriggers.forEach(trigger => {
                trigger.addEventListener('click', function() {
                    const destinationId = this.getAttribute('data-destination');
                    openExperiencePanel(destinationId);
                });
            });
            
            // Close panel when close button is clicked
            closeExperienceButton.addEventListener('click', closeExperiencePanel);
            
            // Close panel when backdrop is clicked
            experienceBackdrop.addEventListener('click', closeExperiencePanel);
            
            // Close panel when Escape key is pressed
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && experiencePanel.classList.contains('panel-visible')) {
                    closeExperiencePanel();
                }
            });
            
            // Add hover effect to experience cards
            document.addEventListener('mouseover', function(e) {
                if (e.target.closest('.experience-card')) {
                    e.target.closest('.experience-card').classList.add('shadow-md');
                }
            });
            
            document.addEventListener('mouseout', function(e) {
                if (e.target.closest('.experience-card')) {
                    e.target.closest('.experience-card').classList.remove('shadow-md');
                }
            });
            
            // Planner count click handler to view planner
            plannerCountEl.addEventListener('click', function() {
                window.location.href = 'planner.html';
            });
            
            // Ensure Add to Planner logic is present (either here or in destinations.js)
            const addToPlannerButtons = document.querySelectorAll('.destination-card .add-to-planner-btn');
            addToPlannerButtons.forEach(button => {
                 if (button.dataset.listenerAttached === 'true') return;
                 button.dataset.listenerAttached = 'true';
                 button.addEventListener('click', () => {
                     const destinationName = button.getAttribute('data-destination');
                     if (!destinationName) return;
                     let itinerary = JSON.parse(localStorage.getItem('userItinerary') || '[]');
                     if (!Array.isArray(itinerary)) itinerary = [];
                     const exists = itinerary.some(item => item.destination === destinationName);
                     if (exists) {
                         alert(`${destinationName} is already in your itinerary.`);
                         return;
                     }
                     const newStop = { destination: destinationName, startDate: '', endDate: '', notes: '', tags: [] };
                     itinerary.push(newStop);
                     localStorage.setItem('userItinerary', JSON.stringify(itinerary));
                     alert(`${destinationName} added to your itinerary!`);
                     button.innerHTML = '<i class="fas fa-check mr-1.5"></i> Added';
                     button.disabled = true;
                     button.classList.add('opacity-70', 'cursor-not-allowed');
                     button.classList.replace('bg-secondary','bg-green-600');
                });
            });
        });
    </script>

    <!-- Comparison Modal -->
    <div id="comparison-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[85vh] flex flex-col">
            <!-- Modal Header -->
            <div class="flex justify-between items-center p-4 border-b border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800">Destination Comparison</h3>
                <button id="close-compare-modal" class="text-gray-400 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <!-- Modal Body -->
            <div id="comparison-modal-body" class="p-6 overflow-y-auto">
                 <!-- Comparison table/content will be generated here -->
                 <p>Loading comparison...</p>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <!-- Map Initialization Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize the map
            // Centered roughly on India: [Latitude, Longitude], Zoom level
            var map = L.map('map').setView([20.5937, 78.9629], 5); // Slightly more zoomed in

            // Add a tile layer (using OpenStreetMap)
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'
            }).addTo(map);

            // --- Recommendations Data ---
            const recommendations = [
                {
                    name: "Taj Mahal, Agra",
                    coords: [27.1751, 78.0421],
                    description: "Iconic ivory-white marble mausoleum, a UNESCO World Heritage site.",
                    weather_info: "Best time: Oct - Mar",
                    conditions: ["Heritage", "Architecture", "Romantic"]
                },
                {
                    name: "Jaipur (Pink City)",
                    coords: [26.9124, 75.7873],
                    description: "Known for its pink buildings, palaces (like Hawa Mahal), and forts.",
                    weather_info: "Best time: Oct - Mar",
                    conditions: ["Heritage", "City", "Culture", "Shopping"]
                },
                {
                    name: "Kerala Backwaters",
                    coords: [9.4981, 76.3388],
                    description: "Network of tranquil canals, lakes, and rivers. Famous for houseboats.",
                    weather_info: "Best time: Sep - Mar (Avoid Monsoon Jun-Aug)",
                    conditions: ["Nature", "Relaxation", "Unique Experience"]
                },
                {
                    name: "Goa Beaches",
                    coords: [15.2993, 74.1240], // General coords for Goa
                    description: "Popular for its sandy beaches, nightlife, and Portuguese heritage.",
                    weather_info: "Best time: Nov - Feb",
                    conditions: ["Beach", "Nightlife", "Relaxation"]
                },
                {
                    name: "Darjeeling",
                    coords: [27.0410, 88.2663],
                    description: "Hill station famous for tea plantations, stunning views of the Himalayas, and the historic \"Toy Train\"  a UNESCO World Heritage railway.",
                    weather_info: "Best time: Mar-May & Oct-Nov",
                    conditions: ["Mountains", "Nature", "Tea", "Scenic"]
                },
                {
                    name: "Varanasi",
                    coords: [25.3176, 83.0130],
                    description: "Spiritual capital on the Ganges, known for ghats and ancient rituals.",
                    weather_info: "Best time: Oct - Mar",
                    conditions: ["Spiritual", "Culture", "Ancient City"]
                },
                {
                    name: "Hampi",
                    coords: [15.3350, 76.4600],
                    description: "UNESCO site with ancient ruins, temples, and unique boulder-strewn landscape.",
                    weather_info: "Best time: Oct - Feb",
                    conditions: ["Heritage", "Ruins", "History", "Scenic"]
                },
                {
                    name: "Coorg (Kodagu)",
                    coords: [12.3375, 75.8069],
                    description: "Hill station known for coffee plantations, misty landscapes, and waterfalls.",
                    weather_info: "Best time: Sep - Jun",
                    conditions: ["Nature", "Hill Station", "Coffee", "Scenic"]
                },
                {
                    name: "Srinagar, J&K",
                    coords: [34.0837, 74.7973],
                    description: "Famous for Dal Lake, houseboats, Mughal gardens, and scenic beauty.",
                    weather_info: "Best time: Apr - Oct",
                    conditions: ["Lakes", "Mountains", "Gardens", "Scenic"]
                },
                {
                    name: "Leh, Ladakh",
                    coords: [34.1526, 77.5771],
                    description: "High-altitude desert city known for monasteries, stupas, and dramatic landscapes.",
                    weather_info: "Best time: Jun - Sep",
                    conditions: ["Mountains", "Culture", "Adventure", "Monasteries"]
                },
                {
                    name: "Shillong, Meghalaya",
                    coords: [25.5788, 91.8933],
                    description: "Scotland of the East, known for waterfalls, caves, rolling hills, and vibrant culture.",
                    weather_info: "Best time: Sep - May",
                    conditions: ["Hill Station", "Waterfalls", "Nature", "Culture"]
                },
                {
                    name: "Kaziranga National Park, Assam",
                    coords: [26.5775, 93.1709],
                    description: "UNESCO site famous for the one-horned rhinoceros, tigers, elephants, and birdlife.",
                    weather_info: "Best time: Nov - Apr (Park closed during monsoon)",
                    conditions: ["Wildlife", "National Park", "Nature", "Safari"]
                },
                {
                    name: "Mysore Palace",
                    coords: [12.3052, 76.6552],
                    description: "Historical palace, residence of the Wadiyar dynasty, known for Indo-Saracenic style.",
                    weather_info: "Best time: Throughout the year (Dasara is spectacular)",
                    conditions: ["Heritage", "Royalty", "Architecture", "City"]
                },
                {
                    name: "Belur & Halebidu",
                    coords: [13.1622, 75.8618], // Approx coords for Belur
                    description: "Twin towns famous for intricate Hoysala architecture temples.",
                    weather_info: "Best time: Oct - Mar",
                    conditions: ["Heritage", "Architecture", "History", "Temples"]
                },
                // START NEW HIDDEN GEMS DATA
                {
                    id: "orchha",
                    name: "Orchha",
                    coords: [25.3492, 78.6432],
                    description: "A medieval town known for its stunning palaces, temples, and cenotaphs built by the Bundela rulers, located on the Betwa River.",
                    weather_info: "Best time: Oct - Mar",
                    conditions: ["Heritage", "History", "Architecture", "Riverside"],
                    image: "images/orchha.jpg", // Add placeholder path
                    alt: "Palaces and temples along the Betwa River in Orchha",
                    rating: 4.5
                },
                {
                    id: "gokarna",
                    name: "Gokarna",
                    coords: [14.5479, 74.3189],
                    description: "A serene coastal town in Karnataka, known for its beautiful beaches (like Om Beach) and important Hindu pilgrimage sites.",
                    weather_info: "Best time: Oct - Mar",
                    conditions: ["Beaches", "Spiritual", "Nature", "Relaxation"],
                    image: "images/gokarna.jpg", // Add placeholder path
                    alt: "Aerial view of Om Beach in Gokarna",
                    rating: 4.4
                }
                // END NEW HIDDEN GEMS DATA
            ];

            // --- Add Markers for Recommendations ---
            recommendations.forEach(place => {
                const popupContent = `
                    <div style=\"font-family: 'Roboto', sans-serif;\">
                        <h4 style=\"font-size: 1.1em; font-weight: 500; margin-bottom: 5px; color: #4f46e5;\">${place.name}</h4>
                        <p style=\"font-size: 0.9em; margin-bottom: 8px;\">${place.description}</p>
                        <p style=\"font-size: 0.85em; color: #555; margin-bottom: 8px;\"><i class=\"far fa-calendar-alt\" style=\"margin-right: 4px;\"></i> ${place.weather_info}</p>
                        <div style=\"margin-top: 5px;\">
                            ${place.conditions.map(tag => 
                                `<span style=\"background-color: #e0e7ff; color: #4f46e5; padding: 2px 6px; margin-right: 4px; margin-bottom: 4px; border-radius: 10px; font-size: 0.75em; display: inline-block;\">${tag}</span>`
                            ).join('')}
                        </div>
                    </div>
                `;

                L.marker(place.coords).addTo(map)
                    .bindPopup(popupContent);
            });

            // --- Add to Comparison Logic ---
            const MAX_COMPARE_ITEMS = 3;
            let itemsToCompare = []; // Array to hold IDs of items to compare

            const comparisonSection = document.getElementById('comparison-section');
            const comparisonItemsContainer = document.getElementById('comparison-items');
            const compareNowButton = document.getElementById('compare-now-button');
            const compareCountSpan = document.getElementById('compare-count');
            const comparisonModal = document.getElementById('comparison-modal');
            const comparisonModalBody = document.getElementById('comparison-modal-body');
            const closeCompareModalButton = document.getElementById('close-compare-modal');

            // Function to update the comparison bar UI
            function updateComparisonBar() {
                if (!comparisonSection || !comparisonItemsContainer || !compareNowButton || !compareCountSpan) return;

                comparisonItemsContainer.innerHTML = ''; // Clear current items
                if (itemsToCompare.length === 0) {
                    comparisonSection.classList.add('hidden');
                    return;
                }

                comparisonSection.classList.remove('hidden');
                compareCountSpan.textContent = itemsToCompare.length;
                compareNowButton.disabled = itemsToCompare.length < 2;

                itemsToCompare.forEach(itemId => {
                    const destination = recommendations.find(d => (d.id || d.name.toLowerCase().replace(/\s+/g, '-')) === itemId);
                    if (destination) {
                        const itemSpan = document.createElement('span');
                        itemSpan.className = 'bg-gray-200 text-gray-800 text-xs font-medium px-2.5 py-1 rounded-full flex items-center';
                        itemSpan.innerHTML = `
                            ${destination.name}
                            <button class="remove-compare-item ml-1.5 text-red-500 hover:text-red-700 focus:outline-none" 
                                    data-id="${itemId}" 
                                    aria-label="Remove ${destination.name} from comparison">
                                &times;
                            </button>
                        `;
                        comparisonItemsContainer.appendChild(itemSpan);
                    }
                });
                 // Add listeners to remove buttons in the bar
                 addRemoveCompareListeners();
            }

            // Function to add/remove item from comparison
            function toggleCompareItem(button, itemId) {
                const itemIndex = itemsToCompare.indexOf(itemId);
                
                if (itemIndex > -1) {
                    // Item is already selected, remove it
                    itemsToCompare.splice(itemIndex, 1);
                    button.classList.replace('text-blue-600', 'text-gray-400');
                    button.title = 'Add to Compare';
                    button.querySelector('i').classList.replace('fa-check-square', 'fa-copy'); // Change icon back
                } else {
                    // Item is not selected, add it if space available
                    if (itemsToCompare.length < MAX_COMPARE_ITEMS) {
                        itemsToCompare.push(itemId);
                        button.classList.replace('text-gray-400', 'text-blue-600');
                        button.title = 'Remove from Compare';
                         button.querySelector('i').classList.replace('fa-copy', 'fa-check-square'); // Change icon
                    } else {
                        alert(`You can only compare up to ${MAX_COMPARE_ITEMS} destinations at a time.`);
                    }
                }
                updateComparisonBar();
            }

            // Function to add listeners to compare buttons on cards
            function addCompareButtonListeners() {
                 document.querySelectorAll('.compare-btn').forEach(button => {
                    // Prevent multiple listeners
                    if (button.dataset.compareListener === 'true') return;
                    button.dataset.compareListener = 'true';

                    // Set initial state based on itemsToCompare
                    const itemId = button.getAttribute('data-destination-id');
                     if (itemsToCompare.includes(itemId)) {
                        button.classList.replace('text-gray-400', 'text-blue-600');
                        button.title = 'Remove from Compare';
                         button.querySelector('i').classList.replace('fa-copy', 'fa-check-square');
                    }

                    button.addEventListener('click', function() {
                        const id = this.getAttribute('data-destination-id');
                        toggleCompareItem(this, id);
                    });
                });
            }
            
            // Function to add listeners to remove buttons in the comparison bar
            function addRemoveCompareListeners() {
                comparisonItemsContainer.querySelectorAll('.remove-compare-item').forEach(button => {
                    // Prevent multiple listeners
                    if (button.dataset.removeListener === 'true') return;
                    button.dataset.removeListener = 'true';

                     button.addEventListener('click', function() {
                         const idToRemove = this.getAttribute('data-id');
                         const originalCompareButton = document.querySelector(`.compare-btn[data-destination-id="${idToRemove}"]`);
                         if (originalCompareButton) {
                             toggleCompareItem(originalCompareButton, idToRemove); // Use toggle to update state
                         }
                     });
                });
            }

            // Function to generate comparison table/content
            function generateComparisonContent() {
                comparisonModalBody.innerHTML = ''; // Clear previous
                if (itemsToCompare.length < 2) {
                    comparisonModalBody.innerHTML = '<p>Please select 2 or 3 destinations to compare.</p>';
                    return;
                }

                const selectedDestinations = recommendations.filter(d => itemsToCompare.includes(d.id || d.name.toLowerCase().replace(/\s+/g, '-')));
                
                let tableHTML = '<table class="w-full border-collapse text-sm">';
                tableHTML += '<thead><tr class="bg-gray-100">';
                tableHTML += '<th class="p-3 border border-gray-300 text-left font-semibold">Feature</th>';
                selectedDestinations.forEach(d => {
                    tableHTML += `<th class="p-3 border border-gray-300 text-left font-semibold">${d.name}</th>`;
                });
                tableHTML += '</tr></thead><tbody>';

                // Rows to compare (add more features as needed)
                const features = [
                    { key: 'description', label: 'Description' },
                    { key: 'weather_info', label: 'Best Time' },
                    { key: 'conditions', label: 'Tags' },
                    { key: 'rating', label: 'Rating' }
                ];

                features.forEach(feature => {
                    tableHTML += '<tr class="border-b border-gray-200">';
                    tableHTML += `<td class="p-3 border border-gray-300 font-medium text-gray-600 align-top">${feature.label}</td>`;
                    selectedDestinations.forEach(d => {
                        let value = d[feature.key] || 'N/A';
                        if (feature.key === 'conditions' && Array.isArray(value)) {
                            value = value.map(tag => `<span class="inline-block bg-primary/10 text-primary text-xs font-medium mr-1.5 mb-1 px-2 py-0.5 rounded-full">${tag}</span>`).join(' ');
                        }
                        if (feature.key === 'rating' && typeof value === 'number') {
                             value = `<span class="text-yellow-500"><i class="fas fa-star text-xs mr-1"></i></span>${value.toFixed(1)}`;
                        }
                        tableHTML += `<td class="p-3 border border-gray-300 align-top">${value}</td>`;
                    });
                    tableHTML += '</tr>';
                });

                tableHTML += '</tbody></table>';
                comparisonModalBody.innerHTML = tableHTML;
            }

            // --- Event Listeners for Comparison ---
            if (compareNowButton && comparisonModal) {
                compareNowButton.addEventListener('click', () => {
                    generateComparisonContent();
                    comparisonModal.classList.remove('hidden');
                    comparisonModal.classList.add('flex');
                });
            }
            if (closeCompareModalButton && comparisonModal) {
                closeCompareModalButton.addEventListener('click', () => {
                    comparisonModal.classList.add('hidden');
                    comparisonModal.classList.remove('flex');
                });
                 // Close modal if clicking outside the content
                 comparisonModal.addEventListener('click', (e) => {
                     if (e.target === comparisonModal) { 
                          comparisonModal.classList.add('hidden');
                          comparisonModal.classList.remove('flex');
                     }
                 });
            }

            // Initial setup
            addCompareButtonListeners();
             updateComparisonBar(); // Ensure bar is hidden initially if no items

        });
    </script>

    <!-- Chatbot Button -->
    <button type="button" id="chat-toggle-button" class="fixed bottom-5 right-5 bg-primary hover:bg-opacity-90 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg z-30 transition-transform transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
        <i class="fas fa-comments text-2xl"></i>
    </button>

    <!-- Chatbot Window -->
    <div id="chat-window" class="hidden fixed bottom-20 right-5 w-full max-w-sm sm:w-80 h-[65vh] sm:h-96 bg-white rounded-lg shadow-xl z-40 flex flex-col overflow-hidden border border-gray-200">
        <!-- Header -->
        <div class="bg-gradient-to-r from-primary to-blue-600 text-white p-3 flex justify-between items-center shadow-sm">
             <div class="flex items-center gap-2">
                 <!-- Icon background white, icon color blue-800 -->
                 <span class="inline-flex items-center justify-center w-7 h-7 rounded-full bg-white text-blue-800 shadow-inner">
                    <i class="fas fa-robot text-base"></i> 
                 </span>
                 <h3 class="font-semibold text-base">Travel Assistant</h3>
             </div>
            <button id="chat-close-button" class="text-white hover:text-gray-200 focus:outline-none">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <!-- Messages -->
        <div id="chat-messages" class="flex-grow p-4 overflow-y-auto space-y-4 bg-gray-50">
            <!-- Messages will be added here -->
             <div class="chat-bubble bot"><p>Welcome! How can I help you plan your India trip today?</p></div>
        </div>
        <!-- Input -->
        <div class="p-3 border-t border-gray-200 bg-white">
            <form id="chat-form" class="flex gap-2">
                <input type="text" id="chat-input" placeholder="Ask anything..." class="flex-grow px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-primary shadow-sm">
                <button type="submit" class="bg-primary hover:bg-blue-700 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary shadow-sm transition-colors">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
        </div>
    </div>

    <!-- Chat Script (Ensure it's loaded) -->
    <script src="js/chat.js"></script>

    <!-- Destination Filtering Script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const selectedCollection = urlParams.get('collection');
            let activeRegion = null;
            let activeState = 'all';

            // Initialize filter state
            function initializeFilters() {
                // Collection filtering (from URL)
                if (selectedCollection) {
                    const collectionTitle = selectedCollection.charAt(0).toUpperCase() + selectedCollection.slice(1);
                    const popularTitle = document.querySelector('#destinations h2');
                    const gemsTitle = document.querySelector('.bg-gradient-to-br h2');
                    
                    if (popularTitle) popularTitle.textContent += `: ${collectionTitle}`;
                    if (gemsTitle) gemsTitle.textContent += `: ${collectionTitle}`;

                    filterByCollection(selectedCollection);
                }

                // Set up region button listeners
                setupRegionFilters();
                
                // Set up state button listeners
                setupStateFilters();
            }

            // Filter destinations by collection
            function filterByCollection(collection) {
                const allCards = document.querySelectorAll('.destination-card, .hidden-gem-card'); 

                allCards.forEach(card => {
                    const cardCollections = card.dataset.collection ? card.dataset.collection.split(' ') : [];
                    
                    if (cardCollections.includes(collection)) {
                        card.style.display = ''; 
                    } else {
                        card.style.display = 'none'; 
                    }
                });
                
                // Hide pagination if filtering is active
                const pagination = document.getElementById('pagination-controls');
                if (pagination) {
                    pagination.style.display = 'none';
                }
            }

            // Filter destinations by region
            function filterByRegion(region) {
                const allCards = document.querySelectorAll('.destination-card, .hidden-gem-card');
                
                // Update active region
                activeRegion = region;
                
                // Update UI for region buttons
                document.querySelectorAll('.region-btn').forEach(btn => {
                    if (btn.dataset.region === region) {
                        btn.classList.add('bg-primary', 'text-white');
                        btn.classList.remove('bg-white', 'text-gray-700');
                        // Change icon color
                        const iconSpan = btn.querySelector('span:first-child');
                        if (iconSpan) {
                            iconSpan.classList.remove('text-primary');
                            iconSpan.classList.add('text-white');
                        }
                    } else {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-white', 'text-gray-700');
                        // Reset icon color
                        const iconSpan = btn.querySelector('span:first-child');
                        if (iconSpan) {
                            iconSpan.classList.add('text-primary');
                            iconSpan.classList.remove('text-white');
                        }
                    }
                });
                
                // Apply filtering
                allCards.forEach(card => {
                    const cardRegion = card.dataset.region || '';
                    const cardState = card.dataset.state || '';
                    
                    // Check if card matches both region and state filters
                    const matchesRegion = region === null || cardRegion === region;
                    const matchesState = activeState === 'all' || cardState === activeState;
                    
                    if (matchesRegion && matchesState) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
                
                // Update title
                updateFilterTitle();
            }
            
            // Filter destinations by state
            function filterByState(state) {
                const allCards = document.querySelectorAll('.destination-card, .hidden-gem-card');
                
                // Update active state
                activeState = state;
                
                // Update UI for state buttons
                document.querySelectorAll('.state-btn').forEach(btn => {
                    if ((btn.dataset.state === state) || (state === 'all' && btn.classList.contains('all-states-btn'))) {
                        btn.classList.add('bg-primary', 'text-white');
                        btn.classList.remove('bg-gray-100', 'hover:bg-gray-200', 'text-gray-700');
                    } else {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-gray-100', 'hover:bg-gray-200', 'text-gray-700');
                    }
                });
                
                // Apply filtering
                allCards.forEach(card => {
                    const cardRegion = card.dataset.region || '';
                    const cardState = card.dataset.state || '';
                    
                    // Check if card matches both region and state filters
                    const matchesRegion = activeRegion === null || cardRegion === activeRegion;
                    const matchesState = state === 'all' || cardState === state;
                    
                    if (matchesRegion && matchesState) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
                
                // Update title
                updateFilterTitle();
            }
            
            // Update the title based on active filters
            function updateFilterTitle() {
                const popularTitle = document.querySelector('#destinations h2');
                if (!popularTitle) return;
                
                // Reset title
                popularTitle.textContent = 'Popular Destinations';
                
                // Add region if active
                if (activeRegion) {
                    const regionName = activeRegion.split('-').map(word => 
                        word.charAt(0).toUpperCase() + word.slice(1)
                    ).join(' ');
                    popularTitle.textContent += `: ${regionName}`;
                }
                
                // Add state if active and not 'all'
                if (activeState !== 'all') {
                    const stateName = activeState.split('-').map(word => 
                        word.charAt(0).toUpperCase() + word.slice(1)
                    ).join(' ');
                    popularTitle.textContent += activeRegion ? ` - ${stateName}` : `: ${stateName}`;
                }
            }
            
            // Set up region filter buttons
            function setupRegionFilters() {
                const regionButtons = document.querySelectorAll('.region-btn');
                
                regionButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const region = btn.dataset.region;
                        
                        // If clicking the active region, deselect it
                        if (activeRegion === region) {
                            filterByRegion(null);
                        } else {
                            filterByRegion(region);
                        }
                    });
                });
            }
            
            // Set up state filter buttons
            function setupStateFilters() {
                const stateButtons = document.querySelectorAll('.state-btn');
                
                // Add data attributes to state buttons if they don't have them
                stateButtons.forEach(btn => {
                    if (!btn.dataset.state) {
                        if (btn.textContent.trim().toLowerCase() === 'all states') {
                            btn.dataset.state = 'all';
                            btn.classList.add('all-states-btn');
                        } else {
                            // Convert button text to kebab-case for data-state
                            const state = btn.textContent.trim().toLowerCase().replace(/\s+/g, '-');
                            btn.dataset.state = state;
                        }
                    }
                    
                    btn.addEventListener('click', () => {
                        filterByState(btn.dataset.state);
                    });
                });
            }
            
            // Reset all filters
            function resetFilters() {
                activeRegion = null;
                activeState = 'all';
                
                // Reset UI
                document.querySelectorAll('.region-btn').forEach(btn => {
                    btn.classList.remove('bg-primary', 'text-white');
                    btn.classList.add('bg-white', 'text-gray-700');
                    const iconSpan = btn.querySelector('span:first-child');
                    if (iconSpan) {
                        iconSpan.classList.add('text-primary');
                        iconSpan.classList.remove('text-white');
                    }
                });
                
                document.querySelectorAll('.state-btn').forEach(btn => {
                    if (btn.classList.contains('all-states-btn')) {
                        btn.classList.add('bg-primary', 'text-white');
                        btn.classList.remove('bg-gray-100', 'hover:bg-gray-200', 'text-gray-700');
                    } else {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-gray-100', 'hover:bg-gray-200', 'text-gray-700');
                    }
                });
                
                // Show all cards
                document.querySelectorAll('.destination-card, .hidden-gem-card').forEach(card => {
                    card.style.display = '';
                });
                
                // Reset title
                const popularTitle = document.querySelector('#destinations h2');
                if (popularTitle) popularTitle.textContent = 'Popular Destinations';
                
                // Show pagination
                const pagination = document.getElementById('pagination-controls');
                if (pagination) {
                    pagination.style.display = 'flex';
                }
            }
            
            // Initialize
            initializeFilters();
        });
    </script>

    <!-- Region Detail Modal -->
    <div id="region-detail-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4 overflow-y-auto">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="p-5 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10">
                <h3 id="region-modal-title" class="text-xl font-bold text-gray-800">Region Details</h3>
                <button id="close-region-modal" class="text-gray-400 hover:text-gray-600 focus:outline-none">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="region-modal-body" class="p-5">
                <!-- Region content will be dynamically inserted here -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <div class="mb-6">
                            <h4 class="text-lg font-bold text-primary mb-3">Major Airports:</h4>
                            <ul id="region-airports" class="space-y-2 text-gray-700">
                                <!-- Airports will be added here -->
                            </ul>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="text-lg font-bold text-primary mb-3">Nearest Railway Stations:</h4>
                            <ul id="region-railways" class="space-y-2 text-gray-700">
                                <!-- Railway stations will be added here -->
                            </ul>
                        </div>
                    </div>
                    
                    <div>
                        <div class="mb-6">
                            <h4 class="text-lg font-bold text-primary mb-3">Must-Visit Attractions:</h4>
                            <ul id="region-attractions" class="space-y-2 text-gray-700">
                                <!-- Attractions will be added here -->
                            </ul>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="text-lg font-bold text-primary mb-3">Best Time to Visit:</h4>
                            <p id="region-best-time" class="text-gray-700"><!-- Best time will be added here --></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Region Information Script -->
    <script>
        // This script enhances region functionality using the regionData defined earlier
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Additional region scripts loaded');
            
            // Enhanced region functionality
            const regionButtons = document.querySelectorAll('.region-btn');
            
            // Update region buttons with additional info tooltips if needed
            regionButtons.forEach(button => {
                const regionId = button.getAttribute('data-region');
                if (regionData[regionId]) {
                    // We could add additional functionality here if needed
                    button.setAttribute('title', `Explore ${regionData[regionId].name}: ${regionData[regionId].tag}`);  
                }
            });
        });
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const regionModal = document.getElementById('region-detail-modal');
            const regionModalTitle = document.getElementById('region-modal-title');
            const regionAirports = document.getElementById('region-airports');
            const regionRailways = document.getElementById('region-railways');
            const regionAttractions = document.getElementById('region-attractions');
            const regionBestTime = document.getElementById('region-best-time');
            const closeRegionModal = document.getElementById('close-region-modal');
            
            // Add event listeners to region buttons for showing the modal
            document.querySelectorAll('.region-btn').forEach(btn => {
                // Add info button click handler (separate from the filter functionality)
                btn.addEventListener('click', function(e) {
                    // Check if the click was on the info text or icon
                    if (e.target.closest('.text-xs') || e.target.classList.contains('fa-info-circle')) {
                        e.stopPropagation(); // Prevent triggering the filter
                        const region = this.dataset.region;
                        if (regionData[region]) {
                            showRegionModal(region);
                        }
                        return; // Exit early to prevent the filter from being triggered
                    }
                    
                    // If not clicking on info text/icon, handle the filtering
                    // This code will only run if the click wasn't on the info text/icon
                    const region = this.dataset.region;
                    
                    // If clicking the active region, deselect it
                    if (activeRegion === region) {
                        filterByRegion(null);
                    } else {
                        filterByRegion(region);
                    }
                });
            });
            
            // Function to show region modal
            function showRegionModal(region) {
                const data = regionData[region];
                
                // Set modal title
                regionModalTitle.textContent = data.name + ' - Regional Guide';
                
                // Set airports
                regionAirports.innerHTML = '';
                data.airports.forEach(airport => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start';
                    li.innerHTML = `
                        <i class="fas fa-plane-departure text-primary w-5 text-center mt-1 mr-2"></i>
                        <span>${airport}</span>
                    `;
                    regionAirports.appendChild(li);
                });
                
                // Set railways
                regionRailways.innerHTML = '';
                data.railways.forEach(railway => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start';
                    li.innerHTML = `
                        <i class="fas fa-train text-primary w-5 text-center mt-1 mr-2"></i>
                        <span>${railway}</span>
                    `;
                    regionRailways.appendChild(li);
                });
                
                // Set attractions
                regionAttractions.innerHTML = '';
                data.attractions.forEach(attraction => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start';
                    li.innerHTML = `
                        <i class="fas fa-map-marker-alt text-primary w-5 text-center mt-1 mr-2"></i>
                        <span>${attraction}</span>
                    `;
                    regionAttractions.appendChild(li);
                });
                
                // Set best time
                regionBestTime.textContent = data.bestTime;
                
                // Show modal
                regionModal.classList.remove('hidden');
                regionModal.classList.add('flex');
            }
            
            // Close modal
            if (closeRegionModal) {
                closeRegionModal.addEventListener('click', () => {
                    regionModal.classList.add('hidden');
                    regionModal.classList.remove('flex');
                });
                
                // Close modal if clicking outside the content
                regionModal.addEventListener('click', (e) => {
                    if (e.target === regionModal) {
                        regionModal.classList.add('hidden');
                        regionModal.classList.remove('flex');
                    }
                });
            }
        });
    </script>

    <!-- Region Modal -->
    <div id="region-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4 overflow-y-auto">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto">
            <div class="p-5 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10">
                <h3 id="region-modal-title" class="text-2xl font-bold text-gray-800">Region Details</h3>
                <button id="close-region-modal" class="text-gray-400 hover:text-gray-600 focus:outline-none">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="region-modal-body" class="p-6">
                <!-- Region banner image -->
                <div id="region-banner" class="h-64 w-full rounded-lg overflow-hidden mb-6">
                    <img id="region-image" class="w-full h-full object-cover" src="" alt="Region image">
                </div>
                
                <!-- Region info -->
                <div class="mb-8">
                    <div class="flex items-center mb-4">
                        <h4 id="region-subtitle" class="text-xl font-semibold text-gray-800">Popular Destinations</h4>
                        <span id="region-tag" class="ml-4 bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-medium"></span>
                    </div>
                    <p id="region-description" class="text-gray-600 leading-relaxed"></p>
                </div>
                
                <!-- Popular destinations in this region -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-gray-800">Featured Places</h4>
                    <div id="region-destinations" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Destinations will be dynamically inserted here -->
                    </div>
                </div>
                
                <!-- Best time to visit -->
                <div class="mt-8 p-4 bg-blue-50 rounded-lg">
                    <h4 class="font-semibold text-blue-900 mb-2">Best Time to Visit</h4>
                    <p id="region-best-time" class="text-blue-800"></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Destination Detail Modal -->
    <div id="destination-detail-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4 overflow-y-auto">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto">
            <div class="p-5 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10">
                <h3 id="destination-modal-title" class="text-2xl font-bold text-gray-800">Destination Details</h3>
                <button id="close-destination-modal" class="text-gray-400 hover:text-gray-600 focus:outline-none">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="destination-modal-body" class="p-0">
                <!-- Destination content will be dynamically inserted here -->
            </div>
        </div>
    </div>
    
    <!-- Destination Detail JavaScript -->
    <script>
        // Check if destinationData exists, otherwise create it
        window.destinationData = window.destinationData || {
            'tajmahal': {
                name: 'Taj Mahal',
                tagline: 'A monument of eternal love',
                location: 'Agra, Uttar Pradesh',
                description: 'The Taj Mahal is an ivory-white marble mausoleum on the right bank of the river Yamuna in Agra, Uttar Pradesh, India. It was commissioned in 1632 by the Mughal emperor Shah Jahan to house the tomb of his favourite wife, Mumtaz Mahal; it also houses the tomb of Shah Jahan himself.',
                images: ['images/tajmahal.jpg', 'images/taj-mahal-front.jpg', 'images/taj-mahal-garden.jpg'],
                highlights: [
                    'UNESCO World Heritage Site since 1983',
                    'Perfect symmetry and intricate marble work',
                    'Surrounded by beautiful gardens and reflecting pools',
                    'Changes color throughout the day as the sunlight shifts'
                ],
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Agra Fort', 'Fatehpur Sikri', 'Itimad-ud-Daulah Tomb', 'Mehtab Bagh'],
                travelTips: [
                    'Visit early morning or late afternoon for the best lighting and fewer crowds',
                    'Closed on Fridays for prayers',
                    'Wear comfortable shoes as there is a lot of walking'
                ]
            },
            'varanasi': {
                name: 'Varanasi',
                tagline: 'The spiritual heart of India',
                location: 'Uttar Pradesh',
                description: 'Varanasi, also known as Benares or Kashi, is one of the oldest continuously inhabited cities in the world. Situated on the banks of the sacred Ganges River, it is considered the spiritual capital of India and a major pilgrimage site for Hindus.',
                images: ['images/varanasi.jpg', 'images/varanasi-ghats.jpg', 'images/varanasi-ceremony.jpg'],
                highlights: [
                    'The sacred Ganges River and its ghats',
                    'Evening Ganga Aarti ceremony at Dashashwamedh Ghat',
                    'Ancient temples including Kashi Vishwanath',
                    'Vibrant markets and narrow alleys (galis)'
                ],
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Sarnath', 'Ramnagar Fort', 'Alamgir Mosque', 'Assi Ghat'],
                travelTips: [
                    'Take an early morning boat ride on the Ganges',
                    'Respect local customs and traditions',
                    'Wear modest clothing when visiting temples'
                ]
            },
            'jaipur': {
                name: 'Jaipur',
                tagline: 'The Pink City of Rajasthan',
                location: 'Rajasthan',
                description: 'Jaipur, the capital of Rajasthan, is known as the "Pink City" due to the distinctive color of its buildings. It was founded in 1727 by Maharaja Sawai Jai Singh II and is known for its well-planned architecture, vibrant culture, and historical monuments.',
                images: ['images/jaipur.jpg', 'images/amber-fort.jpg', 'images/hawa-mahal.jpg'],
                highlights: [
                    'Amber Fort and Palace',
                    'Hawa Mahal (Palace of Winds)',
                    'City Palace and Jantar Mantar observatory',
                    'Colorful bazaars and traditional crafts'
                ],
                bestTimeToVisit: 'October to March',
                nearbyAttractions: ['Nahargarh Fort', 'Jaigarh Fort', 'Jal Mahal', 'Galtaji Temple'],
                travelTips: [
                    'Take an elephant ride to Amber Fort (book in advance)',
                    'Explore the markets for textiles, jewelry, and handicrafts',
                    'Try the local Rajasthani cuisine'
                ]
            },
            'goa': {
                name: 'Goa',
                tagline: 'Beach paradise with Portuguese influence',
                location: 'West India',
                description: 'Goa is India\'s smallest state but one of its most popular destinations, known for its beautiful beaches, vibrant nightlife, and Portuguese colonial architecture. It offers a unique blend of Indian and Portuguese cultures, reflected in its food, architecture, and festivals.',
                images: ['images/goa.jpg', 'images/goa-beaches.jpg', 'images/goa-churches.jpg'],
                highlights: [
                    'Beautiful beaches like Baga, Calangute, and Palolem',
                    'Portuguese-era churches and forts',
                    'Vibrant markets and nightlife',
                    'Water sports and adventure activities'
                ],
                bestTimeToVisit: 'November to February',
                nearbyAttractions: ['Basilica of Bom Jesus', 'Fort Aguada', 'Dudhsagar Falls', 'Anjuna Flea Market'],
                travelTips: [
                    'Rent a scooter for easy transportation',
                    'South Goa is more peaceful than North Goa',
                    'Try the seafood and Goan cuisine'
                ]
            },
            'kerala': {
                name: 'Kerala',
                tagline: 'God\'s Own Country',
                location: 'South India',
                description: 'Kerala is a state on India\'s tropical Malabar Coast, known for its palm-lined beaches, backwaters, mountains, and wildlife. It\'s known for its lush landscape, houseboats, Ayurvedic treatments, and delicious cuisine.',
                images: ['images/Kerala Backwaters.jpg', 'images/kerala-tea.jpg', 'images/kerala-kathakali.jpg'],
                highlights: [
                    'Serene backwaters and houseboat cruises',
                    'Beautiful hill stations like Munnar',
                    'Pristine beaches in Kovalam and Varkala',
                    'Rich cultural traditions like Kathakali dance'
                ],
                bestTimeToVisit: 'September to March',
                nearbyAttractions: ['Periyar Wildlife Sanctuary', 'Wayanad', 'Fort Kochi', 'Alleppey'],
                travelTips: [
                    'Book a houseboat stay in advance',
                    'Try the traditional Kerala Sadhya (meal)',
                    'Experience an Ayurvedic massage or treatment'
                ]
            },
            'darjeeling': {
                name: 'Darjeeling',
                tagline: 'Queen of the Hills',
                location: 'West Bengal',
                description: 'Darjeeling is a town in India\'s West Bengal state, in the Himalayan foothills. Known for its tea plantations, it was developed during the British colonial era. The town features Victorian architecture, Buddhist monasteries, and spectacular views of Mount Kanchenjunga.',
                images: ['images/darjeeling.jpg', 'images/darjeeling-tea.jpg', 'images/himalayan-railway.jpg'],
                highlights: [
                    'World-famous Darjeeling tea gardens',
                    'Toy Train (Darjeeling Himalayan Railway)',
                    'Stunning views of the Himalayas',
                    'Tiger Hill sunrise viewpoint'
                ],
                bestTimeToVisit: 'March to May and October to December',
                nearbyAttractions: ['Batasia Loop', 'Peace Pagoda', 'Happy Valley Tea Estate', 'Padmaja Naidu Himalayan Zoological Park'],
                travelTips: [
                    'Take a ride on the UNESCO-listed Darjeeling Himalayan Railway',
                    'Visit tea estates for tasting sessions',
                    'Carry warm clothes as evenings can be chilly even in summer'
                ]
            }
        };
        
        // Set up event listeners for discover more buttons
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM fully loaded, initializing destination buttons...');
            
            // Add direct listeners for the problematic buttons
            document.getElementById('goa-btn').onclick = function(e) {
                e.preventDefault();
                openDestinationModal('goa');
            };
            
            document.getElementById('kerala-btn').onclick = function(e) {
                e.preventDefault();
                openDestinationModal('kerala');
            };
            
            document.getElementById('darjeeling-btn').onclick = function(e) {
                e.preventDefault();
                openDestinationModal('darjeeling');
            };
            
            // Get all discover more buttons in the featured destinations carousel
            const discoverButtons = document.querySelectorAll('[data-destination]');
            const destinationModal = document.getElementById('destination-detail-modal');
            const modalTitle = document.getElementById('destination-modal-title');
            const modalContent = document.getElementById('destination-modal-body');
            const closeModalBtn = document.getElementById('close-destination-modal');
            
            console.log('Found buttons:', discoverButtons.length);
            // Add click event to all discover buttons
            discoverButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Button clicked:', this.getAttribute('data-destination'));
                    const destinationId = this.getAttribute('data-destination');
                    if (destinationData[destinationId]) {
                        openDestinationModal(destinationId);
                    } else {
                        console.error('No data found for destination: ' + destinationId);
                    }
                });
            });
            
            // Close modal button
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', function() {
                    destinationModal.classList.add('hidden');
                    destinationModal.classList.remove('flex');
                });
            }
            
            // Close modal when clicking outside
            destinationModal.addEventListener('click', function(e) {
                if (e.target === destinationModal) {
                    destinationModal.classList.add('hidden');
                    destinationModal.classList.remove('flex');
                }
            });
            
            // Function to open modal with destination details
            function openDestinationModal(destinationId) {
                const data = destinationData[destinationId];
                
                // Set modal title
                modalTitle.textContent = data.name + ' - ' + data.tagline;
                
                // Create modal content
                modalContent.innerHTML = `
                    <div class="flex flex-col md:flex-row">
                        <!-- Image gallery -->
                        <div class="w-full md:w-2/3 relative">
                            <div class="relative h-64 md:h-full">
                                <img src="${data.images[0]}" alt="${data.name}" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"></div>
                            </div>
                        </div>
                        
                        <!-- Details -->
                        <div class="w-full md:w-1/3 p-6 bg-gray-50">
                            <div class="mb-6">
                                <div class="flex items-center mb-2">
                                    <i class="fas fa-map-marker-alt text-primary mr-2"></i>
                                    <span class="text-gray-700">${data.location}</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-calendar-alt text-primary mr-2"></i>
                                    <span class="text-gray-700">Best time: ${data.bestTimeToVisit}</span>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <h4 class="text-lg font-bold text-gray-800 mb-2">About</h4>
                                <p class="text-gray-700">${data.description}</p>
                            </div>
                            
                            <div class="mb-6">
                                <h4 class="text-lg font-bold text-gray-800 mb-2">Highlights</h4>
                                <ul class="space-y-2">
                                    ${data.highlights.map(highlight => `
                                        <li class="flex items-start">
                                            <i class="fas fa-star text-yellow-500 mt-1 mr-2"></i>
                                            <span>${highlight}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional information -->
                    <div class="p-6 bg-white border-t border-gray-200">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="text-lg font-bold text-gray-800 mb-3">Nearby Attractions</h4>
                                <ul class="space-y-2">
                                    ${data.nearbyAttractions.map(attraction => `
                                        <li class="flex items-start">
                                            <i class="fas fa-map-signs text-primary mt-1 mr-2"></i>
                                            <span>${attraction}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="text-lg font-bold text-gray-800 mb-3">Travel Tips</h4>
                                <ul class="space-y-2">
                                    ${data.travelTips.map(tip => `
                                        <li class="flex items-start">
                                            <i class="fas fa-info-circle text-primary mt-1 mr-2"></i>
                                            <span>${tip}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-6 bg-gray-50 flex justify-center">
                        <a href="destination-detail.html?id=${destinationId}" class="bg-primary hover:bg-primary-dark text-white font-bold py-2 px-6 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1">
                            <i class="fas fa-info-circle mr-2"></i>View Full Details
                        </a>
                    </div>
                `;
                
                // Show modal
                destinationModal.classList.remove('hidden');
                destinationModal.classList.add('flex');
            }
        });
    </script>

    <!-- Script to make all explore buttons work -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 1. Handle all View Details buttons
            const detailButtons = document.querySelectorAll('a[href^="experiences.html"]');
            
            detailButtons.forEach(button => {
                const currentHref = button.getAttribute('href');
                // Extract destination ID from the href
                if (currentHref.includes('#')) {
                    const destinationId = currentHref.split('#')[1];
                    button.setAttribute('href', `destination-detail.html?destination=${destinationId}`);
                }
            });
            
            // 2. Handle all explore/discover buttons in featured destinations
            const exploreButtons = document.querySelectorAll('.featured-destination a');
            exploreButtons.forEach(button => {
                // Get destination ID from closest parent
                const destinationCard = button.closest('.featured-destination');
                if (destinationCard) {
                    // Try to extract destination ID
                    let destinationId = '';
                    
                    // Try to get from image ID
                    const img = destinationCard.querySelector('img');
                    if (img && img.id) {
                        destinationId = img.id.replace('img-', '');
                    } else {
                        // Try to get from heading text
                        const title = destinationCard.querySelector('h3');
                        if (title) {
                            destinationId = title.textContent.trim().toLowerCase().replace(/\s+/g, '-');
                        }
                    }
                    
                    if (destinationId) {
                        // Update the href to point to destination detail
                        if (!button.getAttribute('href') || button.getAttribute('href') === '#') {
                            button.setAttribute('href', `destination-detail.html?destination=${destinationId}`);
                        }
                    }
                }
            });
            
            // 3. Make toggle details buttons work
            const toggleDetailsButtons = document.querySelectorAll('.toggle-details');
            toggleDetailsButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Find the related experience details section
                    const card = this.closest('.destination-card');
                    const details = card.querySelector('.experience-details');
                    const chevron = this.querySelector('.details-chevron');
                    
                    if (details) {
                        // Toggle the details visibility
                        details.classList.toggle('active');
                        
                        // Rotate chevron icon
                        if (chevron) {
                            chevron.classList.toggle('transform');
                            chevron.classList.toggle('rotate-180');
                        }
                        
                        // Update button text
                        const buttonText = this.querySelector('.details-button-text');
                        if (buttonText) {
                            if (details.classList.contains('active')) {
                                buttonText.textContent = 'Hide Details';
                            } else {
                                buttonText.textContent = 'View Experiences';
                            }
                        }
                    }
                });
            });
            
            // 4. Add click animation for all main action buttons
            const actionButtons = document.querySelectorAll('.bg-primary');
            actionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.classList.add('animate-pulse');
                    setTimeout(() => {
                        this.classList.remove('animate-pulse');
                    }, 300);
                });
            });
            
            // 5. Make state filter buttons functional
            const stateButtons = document.querySelectorAll('.state-btn');
            const destinationCards = document.querySelectorAll('.destination-card');
            
            stateButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    stateButtons.forEach(btn => {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-gray-100', 'hover:bg-gray-200', 'text-gray-700');
                    });
                    
                    // Add active class to clicked button
                    this.classList.remove('bg-gray-100', 'hover:bg-gray-200', 'text-gray-700');
                    this.classList.add('bg-primary', 'text-white');
                    
                    const selectedState = this.getAttribute('data-state');
                    
                    // Filter destination cards
                    destinationCards.forEach(card => {
                        if (selectedState === 'all') {
                            // Show all cards
                            card.classList.remove('hidden');
                        } else {
                            // Check if card's state matches selected state
                            const cardState = card.getAttribute('data-state');
                            
                            if (cardState === selectedState) {
                                card.classList.remove('hidden');
                            } else {
                                card.classList.add('hidden');
                            }
                        }
                    });
                });
            });
            
            // Initialize with all states visible and 'All States' button active
            const allStatesBtn = document.querySelector('.all-states-btn');
            if (allStatesBtn) {
                allStatesBtn.classList.remove('bg-gray-100', 'hover:bg-gray-200', 'text-gray-700');
                allStatesBtn.classList.add('bg-primary', 'text-white');
            }
            
            console.log('All exploration buttons and state filters are now functional');
        });
    </script>
</body>
</html> 